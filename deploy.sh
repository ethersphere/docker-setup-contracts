#!/usr/bin/env bash
set -e
set -o errtrace
set -o pipefail
set -u
#set -x

[ -z ${BACKEND+x} ] && BACKEND=http://localhost:8545
[ -z ${BZZACCOUNTS+x} ] && BZZACCOUNTS="bf4f9637c281ddfb1fbd3be5a1dae6531d408f11 c45d64d8f9642a604db93c59fd38492b262391ca"

TOKEN_BIN=0x608060405262000024620000186200002a60201b60201c565b6200003260201b60201c565b62000257565b600033905090565b6200004d8160036200009360201b620012a81790919060201c565b8073ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a250565b620000a582826200017760201b60201c565b1562000119576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f526f6c65733a206163636f756e7420616c72656164792068617320726f6c650081525060200191505060405180910390fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141562000200576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180620018506022913960400191505060405180910390fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6115e980620002676000396000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c8063983b2d5611610071578063983b2d56146102e7578063986502751461032b578063a457c2d714610335578063a9059cbb1461039b578063aa271e1a14610401578063dd62ed3e1461045d576100b4565b8063095ea7b3146100b957806318160ddd1461011f57806323b872dd1461013d57806339509351146101c357806340c10f191461022957806370a082311461028f575b600080fd5b610105600480360360408110156100cf57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506104d5565b604051808215151515815260200191505060405180910390f35b6101276104f3565b6040518082815260200191505060405180910390f35b6101a96004803603606081101561015357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506104fd565b604051808215151515815260200191505060405180910390f35b61020f600480360360408110156101d957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506105d6565b604051808215151515815260200191505060405180910390f35b6102756004803603604081101561023f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610689565b604051808215151515815260200191505060405180910390f35b6102d1600480360360208110156102a557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610704565b6040518082815260200191505060405180910390f35b610329600480360360208110156102fd57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061074c565b005b6103336107bd565b005b6103816004803603604081101561034b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506107cf565b604051808215151515815260200191505060405180910390f35b6103e7600480360360408110156103b157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061089c565b604051808215151515815260200191505060405180910390f35b6104436004803603602081101561041757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506108ba565b604051808215151515815260200191505060405180910390f35b6104bf6004803603604081101561047357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506108d7565b6040518082815260200191505060405180910390f35b60006104e96104e261095e565b8484610966565b6001905092915050565b6000600254905090565b600061050a848484610b5d565b6105cb8461051661095e565b6105c6856040518060600160405280602881526020016114fd60289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600061057c61095e565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e139092919063ffffffff16565b610966565b600190509392505050565b600061067f6105e361095e565b8461067a85600160006105f461095e565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ed390919063ffffffff16565b610966565b6001905092915050565b600061069b61069661095e565b6108ba565b6106f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260308152602001806114ac6030913960400191505060405180910390fd5b6106fa8383610f5b565b6001905092915050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b61075c61075761095e565b6108ba565b6107b1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260308152602001806114ac6030913960400191505060405180910390fd5b6107ba81611116565b50565b6107cd6107c861095e565b611170565b565b60006108926107dc61095e565b8461088d85604051806060016040528060258152602001611590602591396001600061080661095e565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e139092919063ffffffff16565b610966565b6001905092915050565b60006108b06108a961095e565b8484610b5d565b6001905092915050565b60006108d08260036111ca90919063ffffffff16565b9050919050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156109ec576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602481526020018061156c6024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610a72576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806114646022913960400191505060405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610be3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806115476025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610c69576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806114416023913960400191505060405180910390fd5b610cd481604051806060016040528060268152602001611486602691396000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e139092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610d67816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ed390919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000838311158290610ec0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e85578082015181840152602081019050610e6a565b50505050905090810190601f168015610eb25780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600080828401905083811015610f51576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610ffe576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b61101381600254610ed390919063ffffffff16565b60028190555061106a816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ed390919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b61112a8160036112a890919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a250565b61118481600361138390919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167fe94479a9f7e1952cc78f2d6baab678adc1b772d936c6583def489e524cb6669260405160405180910390a250565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611251576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806115256022913960400191505060405180910390fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6112b282826111ca565b15611325576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f526f6c65733a206163636f756e7420616c72656164792068617320726f6c650081525060200191505060405180910390fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b61138d82826111ca565b6113e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806114dc6021913960400191505060405180910390fd5b60008260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e63654d696e746572526f6c653a2063616c6c657220646f6573206e6f74206861766520746865204d696e74657220726f6c65526f6c65733a206163636f756e7420646f6573206e6f74206861766520726f6c6545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e6365526f6c65733a206163636f756e7420697320746865207a65726f206164647265737345524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa265627a7a723158209365f743f4259fd57b70b0249fd5414047db47568854d4cd343852d2e5ad185164736f6c634300050b0032526f6c65733a206163636f756e7420697320746865207a65726f2061646472657373

LEGACY_FACTORY_BIN=0x608060405234801561001057600080fd5b50604051611c1b380380611c1b8339818101604052602081101561003357600080fd5b5051600180546001600160a01b0319166001600160a01b03909216919091179055611bb8806100636000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063576d727114610046578063a6021ace1461008e578063c70242ad14610096575b600080fd5b6100726004803603604081101561005c57600080fd5b506001600160a01b0381351690602001356100d0565b604080516001600160a01b039092168252519081900360200190f35b610072610198565b6100bc600480360360208110156100ac57600080fd5b50356001600160a01b03166101a7565b604080519115158252519081900360200190f35b600154604051600091829185916001600160a01b03169085906100f2906101bc565b80846001600160a01b03168152602001836001600160a01b031681526020018281526020019350505050604051809103906000f080158015610138573d6000803e3d6000fd5b506001600160a01b03811660008181526020818152604091829020805460ff19166001179055815192835290519293507fc0ffc525a1c7689549d7f79b49eca900e61ac49b43d977f680bcc3b36224c00492918290030190a19392505050565b6001546001600160a01b031681565b60006020819052908152604090205460ff1681565b6119b9806101ca8339019056fe608060405234801561001057600080fd5b506040516119b93803806119b98339818101604052606081101561003357600080fd5b5080516020820151604090920151600680546001600160a01b039384166001600160a01b0319918216179091556001805493909416921691909117909155600055611936806100836000396000f3fe608060405234801561001057600080fd5b50600436106101425760003560e01c8063b6343b0d116100b8578063b7ec1a331161007c578063b7ec1a33146104e2578063c49f91d3146104ea578063c76a4d31146104f2578063d4c9a8e814610518578063e0bcf13a146105d1578063fc0c546a146105d957610142565b8063b6343b0d1461043e578063b648b4171461048a578063b69ef8a8146104a6578063b7770350146104ae578063b7998907146104da57610142565b80631d1438481161010a5780631d1438481461037d5780632e1a7d4d146103a1578063338f3fed146103be578063488b017c146103ea57806381f03fcb146103f2578063946f46a21461041857610142565b80630d5f26591461014757806312101021146102025780631357e1dc1461021c57806315c3343f146102245780631633fb1d1461022c575b600080fd5b6102006004803603606081101561015d57600080fd5b6001600160a01b0382351691602081013591810190606081016040820135600160201b81111561018c57600080fd5b82018360208201111561019e57600080fd5b803590602001918460018302840111600160201b831117156101bf57600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295506105e1945050505050565b005b61020a6105f4565b60408051918252519081900360200190f35b61020a6105fa565b61020a610600565b610200600480360360c081101561024257600080fd5b6001600160a01b03823581169260208101359091169160408201359190810190608081016060820135600160201b81111561027c57600080fd5b82018360208201111561028e57600080fd5b803590602001918460018302840111600160201b831117156102af57600080fd5b91908080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092958435959094909350604081019250602001359050600160201b81111561030957600080fd5b82018360208201111561031b57600080fd5b803590602001918460018302840111600160201b8311171561033c57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610624945050505050565b61038561069e565b604080516001600160a01b039092168252519081900360200190f35b610200600480360360208110156103b757600080fd5b50356106ad565b610200600480360360408110156103d457600080fd5b506001600160a01b03813516906020013561080e565b61020a61093a565b61020a6004803603602081101561040857600080fd5b50356001600160a01b031661095e565b6102006004803603602081101561042e57600080fd5b50356001600160a01b0316610970565b6104646004803603602081101561045457600080fd5b50356001600160a01b0316610a4b565b604080519485526020850193909352838301919091526060830152519081900360800190f35b610492610a72565b604080519115158252519081900360200190f35b61020a610a82565b610200600480360360408110156104c457600080fd5b506001600160a01b038135169060200135610afe565b61020a610c20565b61020a610c44565b61020a610c5f565b61020a6004803603602081101561050857600080fd5b50356001600160a01b0316610c83565b6102006004803603606081101561052e57600080fd5b6001600160a01b0382351691602081013591810190606081016040820135600160201b81111561055d57600080fd5b82018360208201111561056f57600080fd5b803590602001918460018302840111600160201b8311171561059057600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610cb4945050505050565b61020a610dc7565b610385610dcd565b6105ef338484600085610ddc565b505050565b60005481565b60035481565b7f48ebe6deff4a5ee645c01506a026031e2a945d6f41f1f4e5098ad65347492c1281565b61063a61063430338789876111cb565b84611243565b6001600160a01b0316866001600160a01b0316146106895760405162461bcd60e51b81526004018080602001828103825260298152602001806118656029913960400191505060405180910390fd5b6106968686868585610ddc565b505050505050565b6006546001600160a01b031681565b6006546001600160a01b03163314610705576040805162461bcd60e51b815260206004820152601660248201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604482015290519081900360640190fd5b61070d610c44565b81111561074b5760405162461bcd60e51b81526004018080602001828103825260288152602001806118d96028913960400191505060405180910390fd5b6001546006546040805163a9059cbb60e01b81526001600160a01b039283166004820152602481018590529051919092169163a9059cbb9160448083019260209291908290030181600087803b1580156107a457600080fd5b505af11580156107b8573d6000803e3d6000fd5b505050506040513d60208110156107ce57600080fd5b505161080b5760405162461bcd60e51b815260040180806020018281038252602781526020018061183e6027913960400191505060405180910390fd5b50565b6006546001600160a01b03163314610866576040805162461bcd60e51b815260206004820152601660248201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604482015290519081900360640190fd5b61086e610a82565b60055461087b90836112a5565b11156108b85760405162461bcd60e51b81526004018080602001828103825260348152602001806117a16034913960400191505060405180910390fd5b6001600160a01b038216600090815260046020526040902080546108dc90836112a5565b81556005546108eb90836112a5565b60055560006003820155805460408051918252516001600160a01b038516917f2506c43272ded05d095b91dbba876e66e46888157d3e078db5691496e96c5fad919081900360200190a2505050565b7f7d824962dd0f01520922ea1766c987b1db570cd5db90bdba5ccf5e320607950281565b60026020526000908152604090205481565b6001600160a01b03811660009081526004602052604090206003810154421080159061099f5750600381015415155b6109da5760405162461bcd60e51b81526004018080602001828103825260258152602001806118196025913960400191505060405180910390fd5b600181015481546109ea91611306565b8155600060038201556001810154600554610a0491611306565b600555805460408051918252516001600160a01b038416917f2506c43272ded05d095b91dbba876e66e46888157d3e078db5691496e96c5fad919081900360200190a25050565b60046020526000908152604090208054600182015460028301546003909301549192909184565b600654600160a01b900460ff1681565b600154604080516370a0823160e01b815230600482015290516000926001600160a01b0316916370a08231916024808301926020929190829003018186803b158015610acd57600080fd5b505afa158015610ae1573d6000803e3d6000fd5b505050506040513d6020811015610af757600080fd5b5051905090565b6006546001600160a01b03163314610b56576040805162461bcd60e51b815260206004820152601660248201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604482015290519081900360640190fd5b6001600160a01b03821660009081526004602052604090208054821115610bae5760405162461bcd60e51b815260040180806020018281038252602781526020018061188e6027913960400191505060405180910390fd5b60008160020154600014610bc6578160020154610bca565b6000545b4281016003840155600183018490556040805185815290519192506001600160a01b038616917fc8305077b495025ec4c1d977b176a762c350bb18cad4666ce1ee85c32b78698a9181900360200190a250505050565b7fe95f353750f192082df064ca5142d3a2d6f0bef0f3ffad66d80d8af86b7a749a81565b6000610c5a600554610c54610a82565b90611306565b905090565b7fc2f8787176b8ac6bf7215b4adcc1e069bf4ab82d9ab1df05a57a91d425935b6e81565b6001600160a01b038116600090815260046020526040812054610cae90610ca8610c44565b906112a5565b92915050565b6006546001600160a01b03163314610d0c576040805162461bcd60e51b815260206004820152601660248201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604482015290519081900360640190fd5b610d20610d1a308585611348565b82611243565b6001600160a01b0316836001600160a01b031614610d6f5760405162461bcd60e51b81526004018080602001828103825260298152602001806118656029913960400191505060405180910390fd5b6001600160a01b038316600081815260046020908152604091829020600201859055815185815291517f7b816003a769eb718bd9c66bdbd2dd5827da3f92bc6645276876bd7957b08cf09281900390910190a2505050565b60055481565b6001546001600160a01b031681565b6006546001600160a01b03163314610e4857610dfc610d1a3087866113b1565b6006546001600160a01b03908116911614610e485760405162461bcd60e51b81526004018080602001828103825260248152602001806118b56024913960400191505060405180910390fd5b6001600160a01b038516600090815260026020526040812054610e6c908590611306565b90506000610e8282610e7d89610c83565b61141a565b6001600160a01b03881660009081526004602052604081205491925090610eaa90839061141a565b905084821015610f01576040805162461bcd60e51b815260206004820152601d60248201527f53696d706c65537761703a2063616e6e6f74207061792063616c6c6572000000604482015290519081900360640190fd5b8015610f54576001600160a01b038816600090815260046020526040902054610f2a9082611306565b6001600160a01b038916600090815260046020526040902055600554610f509082611306565b6005555b6001600160a01b038816600090815260026020526040902054610f7790836112a5565b6001600160a01b038916600090815260026020526040902055600354610f9d90836112a5565b6003556001546001600160a01b031663a9059cbb88610fbc8589611306565b6040518363ffffffff1660e01b815260040180836001600160a01b0316815260200182815260200192505050602060405180830381600087803b15801561100257600080fd5b505af1158015611016573d6000803e3d6000fd5b505050506040513d602081101561102c57600080fd5b50516110695760405162461bcd60e51b815260040180806020018281038252602781526020018061183e6027913960400191505060405180910390fd5b841561112a576001546040805163a9059cbb60e01b81523360048201526024810188905290516001600160a01b039092169163a9059cbb916044808201926020929091908290030181600087803b1580156110c357600080fd5b505af11580156110d7573d6000803e3d6000fd5b505050506040513d60208110156110ed57600080fd5b505161112a5760405162461bcd60e51b815260040180806020018281038252602781526020018061183e6027913960400191505060405180910390fd5b6040805183815260208101889052808201879052905133916001600160a01b038a811692908c16917f950494fc3642fae5221b6c32e0e45765c95ebb382a04a71b160db0843e74c99f919081900360600190a48183146111c1576006805460ff60a01b1916600160a01b1790556040517f3f4449c047e11092ec54dc0751b6b4817a9162745de856c893a26e611d18ffc490600090a15b5050505050505050565b604080517f7d824962dd0f01520922ea1766c987b1db570cd5db90bdba5ccf5e32060795026020808301919091526001600160a01b0397881682840152958716606082015260808101949094529190941660a083015260c0808301949094528051808303909401845260e09091019052815191012090565b600080611256611251611430565b61148a565b84604051602001808061190160f01b8152506002018381526020018281526020019250505060405160208183030381529060405280519060200120905061129d81846114fd565b949350505050565b6000828201838110156112ff576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b60006112ff83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f7700008152506116e8565b604080517fe95f353750f192082df064ca5142d3a2d6f0bef0f3ffad66d80d8af86b7a749a6020808301919091526001600160a01b03958616828401529390941660608501526080808501929092528051808503909201825260a0909301909252815191012090565b604080517f48ebe6deff4a5ee645c01506a026031e2a945d6f41f1f4e5098ad65347492c126020808301919091526001600160a01b03958616828401529390941660608501526080808501929092528051808503909201825260a0909301909252815191012090565b600081831061142957816112ff565b5090919050565b61143861177f565b506040805160a081018252600a6060820190815269436865717565626f6f6b60b01b608083015281528151808301835260038152620312e360ec1b602082810191909152820152469181019190915290565b805180516020918201208183015180519083012060409384015184517fc2f8787176b8ac6bf7215b4adcc1e069bf4ab82d9ab1df05a57a91d425935b6e818601528086019390935260608301919091526080808301919091528351808303909101815260a0909101909252815191012090565b60008151604114611555576040805162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e67746800604482015290519081900360640190fd5b60208201516040830151606084015160001a7f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08211156115c65760405162461bcd60e51b81526004018080602001828103825260228152602001806117d56022913960400191505060405180910390fd5b8060ff16601b141580156115de57508060ff16601c14155b1561161a5760405162461bcd60e51b81526004018080602001828103825260228152602001806117f76022913960400191505060405180910390fd5b600060018783868660405160008152602001604052604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051602081039080840390855afa158015611676573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166116de576040805162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e61747572650000000000000000604482015290519081900360640190fd5b9695505050505050565b600081848411156117775760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561173c578181015183820152602001611724565b50505050905090810190601f1680156117695780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b6040518060600160405280606081526020016060815260200160008152509056fe53696d706c65537761703a2068617264206465706f7369742063616e6e6f74206265206d6f7265207468616e2062616c616e636545434453413a20696e76616c6964207369676e6174757265202773272076616c756545434453413a20696e76616c6964207369676e6174757265202776272076616c756553696d706c65537761703a206465706f736974206e6f74207965742074696d6564206f757453696d706c65537761703a2053696d706c65537761703a207472616e73666572206661696c656453696d706c65537761703a20696e76616c69642062656e6566696369617279207369676e617475726553696d706c65537761703a2068617264206465706f736974206e6f742073756666696369656e7453696d706c65537761703a20696e76616c696420697373756572207369676e617475726553696d706c65537761703a206c697175696442616c616e6365206e6f742073756666696369656e74a2646970667358221220e966e3935e65edd1eee5f40a145487964af1fa6f0f5e354d400ee94b6a207d1364736f6c634300060c0033a264697066735822122049e3e76706404d752db8abe986ff6e887ddc5113cd62647fee1728e5ca5a53b064736f6c634300060c0033__TOKEN_ADDRESS__

FACTORY_BIN=0x608060405234801561001057600080fd5b50604051611df2380380611df283398101604081905261002f91610112565b600180546001600160a01b0319166001600160a01b03831617905560405160009061005990610105565b604051809103906000f080158015610075573d6000803e3d6000fd5b506040516343431f6360e11b81529091506001600160a01b038216906386863ec6906100ab906001906000908190600401610140565b600060405180830381600087803b1580156100c557600080fd5b505af11580156100d9573d6000803e3d6000fd5b5050600280546001600160a01b0319166001600160a01b03949094169390931790925550610164915050565b6118e58061050d83390190565b600060208284031215610123578081fd5b81516001600160a01b0381168114610139578182fd5b9392505050565b6001600160a01b039384168152919092166020820152604081019190915260600190565b61039a806101736000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c806315efd8a714610051578063a6021ace1461007a578063c70242ad14610082578063ee97f7f3146100a2575b600080fd5b61006461005f3660046102d6565b6100aa565b6040516100719190610308565b60405180910390f35b6100646101bb565b6100956100903660046102b5565b6101ca565b6040516100719190610359565b6100646101df565b60025460405160009182916100ee916001600160a01b0316906100d3903390879060200161031c565b604051602081830303815290604052805190602001206101ee565b6001546040516343431f6360e11b81529192506001600160a01b03808416926386863ec692610126928a929116908990600401610335565b600060405180830381600087803b15801561014057600080fd5b505af1158015610154573d6000803e3d6000fd5b5050506001600160a01b03821660009081526020819052604090819020805460ff19166001179055517fc0ffc525a1c7689549d7f79b49eca900e61ac49b43d977f680bcc3b36224c00491506101ab908390610308565b60405180910390a1949350505050565b6001546001600160a01b031681565b60006020819052908152604090205460ff1681565b6002546001600160a01b031681565b6000604051733d602d80600a3d3981f3363d3d373d3d3d363d7360601b81528360601b60148201526e5af43d82803e903d91602b57fd5bf360881b6028820152826037826000f59150506001600160a01b038116610293576040805162461bcd60e51b815260206004820152601760248201527f455243313136373a2063726561746532206661696c6564000000000000000000604482015290519081900360640190fd5b92915050565b80356001600160a01b03811681146102b057600080fd5b919050565b6000602082840312156102c6578081fd5b6102cf82610299565b9392505050565b6000806000606084860312156102ea578182fd5b6102f384610299565b95602085013595506040909401359392505050565b6001600160a01b0391909116815260200190565b6001600160a01b03929092168252602082015260400190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b90151581526020019056fea2646970667358221220186c321a2442413d58858aac3960b8440cb5e558ae8361aefefac6b31923710564736f6c63430007060033608060405234801561001057600080fd5b506118c5806100206000396000f3fe608060405234801561001057600080fd5b506004361061014d5760003560e01c8063946f46a2116100c3578063b7ec1a331161007c578063b7ec1a331461027f578063c49f91d314610287578063c76a4d311461028f578063d4c9a8e8146102a2578063e0bcf13a146102b5578063fc0c546a146102bd5761014d565b8063946f46a214610211578063b6343b0d14610224578063b648b41714610247578063b69ef8a81461025c578063b777035014610264578063b7998907146102775761014d565b80631d143848116101155780631d143848146101a85780632e1a7d4d146101bd578063338f3fed146101d0578063488b017c146101e357806381f03fcb146101eb57806386863ec6146101fe5761014d565b80630d5f26591461015257806312101021146101675780631357e1dc1461018557806315c3343f1461018d5780631633fb1d14610195575b600080fd5b61016561016036600461146b565b6102c5565b005b61016f6102d8565b60405161017c9190611563565b60405180910390f35b61016f6102de565b61016f6102e4565b6101656101a33660046113ae565b610308565b6101b061036c565b60405161017c919061152b565b6101656101cb3660046114e0565b61037b565b6101656101de366004611442565b610473565b61016f610556565b61016f6101f9366004611359565b61057a565b61016561020c366004611373565b61058c565b61016561021f366004611359565b610610565b610237610232366004611359565b6106d0565b60405161017c94939291906115c7565b61024f6106f7565b60405161017c9190611558565b61016f610707565b610165610272366004611442565b61078d565b61016f610867565b61016f61088b565b61016f6108a1565b61016f61029d366004611359565b6108c5565b6101656102b036600461146b565b6108f8565b61016f6109b4565b6101b06109ba565b6102d33384846000856109c9565b505050565b60005481565b60035481565b7f48ebe6deff4a5ee645c01506a026031e2a945d6f41f1f4e5098ad65347492c1281565b61031e6103183033878987610dd2565b84610e30565b6001600160a01b0316866001600160a01b0316146103575760405162461bcd60e51b815260040161034e906117d5565b60405180910390fd5b61036486868685856109c9565b505050505050565b6006546001600160a01b031681565b6006546001600160a01b031633146103a55760405162461bcd60e51b815260040161034e906115e2565b6103ad61088b565b8111156103cc5760405162461bcd60e51b815260040161034e90611695565b60015460065460405163a9059cbb60e01b81526001600160a01b039283169263a9059cbb9261040292911690859060040161153f565b602060405180830381600087803b15801561041c57600080fd5b505af1158015610430573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061045491906114c0565b6104705760405162461bcd60e51b815260040161034e9061180c565b50565b6006546001600160a01b0316331461049d5760405162461bcd60e51b815260040161034e90611665565b6104a5610707565b6005546104b29083610e7f565b11156104d05760405162461bcd60e51b815260040161034e90611730565b6001600160a01b038216600090815260046020526040902080546104f49083610e7f565b81556005546105039083610e7f565b6005556000600382015580546040516001600160a01b038516917f2506c43272ded05d095b91dbba876e66e46888157d3e078db5691496e96c5fad916105499190611563565b60405180910390a2505050565b7f7d824962dd0f01520922ea1766c987b1db570cd5db90bdba5ccf5e320607950281565b60026020526000908152604090205481565b6001600160a01b0383166105b25760405162461bcd60e51b815260040161034e9061163d565b6006546001600160a01b0316156105db5760405162461bcd60e51b815260040161034e906116cc565b600680546001600160a01b039485166001600160a01b0319918216179091556001805493909416921691909117909155600055565b6001600160a01b03811660009081526004602052604090206003810154421080159061063f5750600381015415155b61065b5760405162461bcd60e51b815260040161034e90611606565b6001810154815461066b91610ee0565b815560006003820155600181015460055461068591610ee0565b60055580546040516001600160a01b038416917f2506c43272ded05d095b91dbba876e66e46888157d3e078db5691496e96c5fad916106c49190611563565b60405180910390a25050565b60046020526000908152604090208054600182015460028301546003909301549192909184565b600654600160a01b900460ff1681565b6001546040516370a0823160e01b81526000916001600160a01b0316906370a082319061073890309060040161152b565b60206040518083038186803b15801561075057600080fd5b505afa158015610764573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061078891906114f8565b905090565b6006546001600160a01b031633146107b75760405162461bcd60e51b815260040161034e90611665565b6001600160a01b038216600090815260046020526040902080548211156107f05760405162461bcd60e51b815260040161034e906116f9565b6000816002015460001461080857816002015461080c565b6000545b4281016003840155600183018490556040519091506001600160a01b038516907fc8305077b495025ec4c1d977b176a762c350bb18cad4666ce1ee85c32b78698a90610859908690611563565b60405180910390a250505050565b7fe95f353750f192082df064ca5142d3a2d6f0bef0f3ffad66d80d8af86b7a749a81565b600061078860055461089b610707565b90610ee0565b7fc2f8787176b8ac6bf7215b4adcc1e069bf4ab82d9ab1df05a57a91d425935b6e81565b6001600160a01b0381166000908152600460205260408120546108f0906108ea61088b565b90610e7f565b90505b919050565b6006546001600160a01b031633146109225760405162461bcd60e51b815260040161034e906115e2565b610936610930308585610f3d565b82610e30565b6001600160a01b0316836001600160a01b0316146109665760405162461bcd60e51b815260040161034e906117d5565b6001600160a01b03831660008181526004602052604090819020600201849055517f7b816003a769eb718bd9c66bdbd2dd5827da3f92bc6645276876bd7957b08cf090610549908590611563565b60055481565b6001546001600160a01b031681565b6006546001600160a01b03163314610a16576109e9610930308786610f95565b6006546001600160a01b03908116911614610a165760405162461bcd60e51b815260040161034e9061179e565b6001600160a01b038516600090815260026020526040812054610a3a908590610ee0565b90506000610a5082610a4b896108c5565b610fce565b6001600160a01b03881660009081526004602052604081205491925090610a78908390610fce565b905084821015610a9a5760405162461bcd60e51b815260040161034e90611767565b8015610aed576001600160a01b038816600090815260046020526040902054610ac39082610ee0565b6001600160a01b038916600090815260046020526040902055600554610ae99082610ee0565b6005555b6001600160a01b038816600090815260026020526040902054610b109083610e7f565b6001600160a01b038916600090815260026020526040902055600354610b369083610e7f565b600355828214610b7d576006805460ff60a01b1916600160a01b1790556040517f3f4449c047e11092ec54dc0751b6b4817a9162745de856c893a26e611d18ffc490600090a15b8415610ccf5760015460405163a9059cbb60e01b81526001600160a01b039091169063a9059cbb90610bb5903390899060040161153f565b602060405180830381600087803b158015610bcf57600080fd5b505af1158015610be3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c0791906114c0565b610c235760405162461bcd60e51b815260040161034e9061180c565b6001546001600160a01b031663a9059cbb88610c3f8589610ee0565b6040518363ffffffff1660e01b8152600401610c5c92919061153f565b602060405180830381600087803b158015610c7657600080fd5b505af1158015610c8a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610cae91906114c0565b610cca5760405162461bcd60e51b815260040161034e9061180c565b610d6f565b60015460405163a9059cbb60e01b81526001600160a01b039091169063a9059cbb90610d01908a90869060040161153f565b602060405180830381600087803b158015610d1b57600080fd5b505af1158015610d2f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d5391906114c0565b610d6f5760405162461bcd60e51b815260040161034e9061180c565b336001600160a01b0316876001600160a01b0316896001600160a01b03167f950494fc3642fae5221b6c32e0e45765c95ebb382a04a71b160db0843e74c99f858a8a604051610dc093929190611835565b60405180910390a45050505050505050565b60007f7d824962dd0f01520922ea1766c987b1db570cd5db90bdba5ccf5e32060795028686868686604051602001610e0f96959493929190611591565b60405160208183030381529060405280519060200120905095945050505050565b600080610e43610e3e610fe4565b61103e565b84604051602001610e55929190611510565b604051602081830303815290604052805190602001209050610e7781846110ae565b949350505050565b600082820183811015610ed9576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b600082821115610f37576040805162461bcd60e51b815260206004820152601e60248201527f536166654d6174683a207375627472616374696f6e206f766572666c6f770000604482015290519081900360640190fd5b50900390565b60007fe95f353750f192082df064ca5142d3a2d6f0bef0f3ffad66d80d8af86b7a749a848484604051602001610f76949392919061156c565b6040516020818303038152906040528051906020012090509392505050565b60007f48ebe6deff4a5ee645c01506a026031e2a945d6f41f1f4e5098ad65347492c12848484604051602001610f76949392919061156c565b6000818310610fdd5781610ed9565b5090919050565b610fec6112ac565b506040805160a081018252600a6060820190815269436865717565626f6f6b60b01b608083015281528151808301835260038152620312e360ec1b602082810191909152820152469181019190915290565b60007fc2f8787176b8ac6bf7215b4adcc1e069bf4ab82d9ab1df05a57a91d425935b6e826000015180519060200120836020015180519060200120846040015160405160200161109194939291906115c7565b604051602081830303815290604052805190602001209050919050565b60008151604114611106576040805162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e67746800604482015290519081900360640190fd5b60208201516040830151606084015160001a6111248682858561112e565b9695505050505050565b60007f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a082111561118f5760405162461bcd60e51b815260040180806020018281038252602281526020018061184c6022913960400191505060405180910390fd5b8360ff16601b14806111a457508360ff16601c145b6111df5760405162461bcd60e51b815260040180806020018281038252602281526020018061186e6022913960400191505060405180910390fd5b600060018686868660405160008152602001604052604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051602081039080840390855afa15801561123b573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166112a3576040805162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e61747572650000000000000000604482015290519081900360640190fd5b95945050505050565b60405180606001604052806060815260200160608152602001600081525090565b80356001600160a01b03811681146108f357600080fd5b600082601f8301126112f4578081fd5b813567ffffffffffffffff8082111561130957fe5b604051601f8301601f19168101602001828111828210171561132757fe5b60405282815284830160200186101561133e578384fd5b82602086016020830137918201602001929092529392505050565b60006020828403121561136a578081fd5b610ed9826112cd565b600080600060608486031215611387578182fd5b611390846112cd565b925061139e602085016112cd565b9150604084013590509250925092565b60008060008060008060c087890312156113c6578182fd5b6113cf876112cd565b95506113dd602088016112cd565b945060408701359350606087013567ffffffffffffffff80821115611400578384fd5b61140c8a838b016112e4565b94506080890135935060a0890135915080821115611428578283fd5b5061143589828a016112e4565b9150509295509295509295565b60008060408385031215611454578182fd5b61145d836112cd565b946020939093013593505050565b60008060006060848603121561147f578283fd5b611488846112cd565b925060208401359150604084013567ffffffffffffffff8111156114aa578182fd5b6114b6868287016112e4565b9150509250925092565b6000602082840312156114d1578081fd5b81518015158114610ed9578182fd5b6000602082840312156114f1578081fd5b5035919050565b600060208284031215611509578081fd5b5051919050565b61190160f01b81526002810192909252602282015260420190565b6001600160a01b0391909116815260200190565b6001600160a01b03929092168252602082015260400190565b901515815260200190565b90815260200190565b9384526001600160a01b03928316602085015291166040830152606082015260800190565b9586526001600160a01b03948516602087015292841660408601526060850191909152909116608083015260a082015260c00190565b93845260208401929092526040830152606082015260800190565b6020808252600a90820152693737ba1034b9b9bab2b960b11b604082015260600190565b60208082526019908201527f6465706f736974206e6f74207965742074696d6564206f757400000000000000604082015260600190565b6020808252600e908201526d34b73b30b634b21034b9b9bab2b960911b604082015260600190565b60208082526016908201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604082015260600190565b6020808252601c908201527f6c697175696442616c616e6365206e6f742073756666696369656e7400000000604082015260600190565b602080825260139082015272185b1c9958591e481a5b9a5d1a585b1a5e9959606a1b604082015260600190565b6020808252601b908201527f68617264206465706f736974206e6f742073756666696369656e740000000000604082015260600190565b6020808252601c908201527f68617264206465706f73697420657863656564732062616c616e636500000000604082015260600190565b6020808252601d908201527f53696d706c65537761703a2063616e6e6f74207061792063616c6c6572000000604082015260600190565b60208082526018908201527f696e76616c696420697373756572207369676e61747572650000000000000000604082015260600190565b6020808252601d908201527f696e76616c69642062656e6566696369617279207369676e6174757265000000604082015260600190565b6020808252600f908201526e1d1c985b9cd9995c8819985a5b1959608a1b604082015260600190565b928352602083019190915260408201526060019056fe45434453413a20696e76616c6964207369676e6174757265202773272076616c756545434453413a20696e76616c6964207369676e6174757265202776272076616c7565a26469706673582212202e31e31c7c2744ee68a03ed443217b2f9f1a54bafefbc8c8e911e1d5cc01ec0864736f6c63430007060033__TOKEN_ADDRESS__

TOKEN_MINT_DATA=0x40c10f19__RECIPIENT____AMOUNT__

POSTAGE_STAMP_BIN=0x60806040526007805460ff191660101790553480156200001e57600080fd5b506040516200355b3803806200355b83398101604081905262000041916200016d565b6001805460ff19169055600580546001600160a01b0319166001600160a01b03831617905562000073600033620000a6565b6200009f7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a33620000a6565b506200019d565b620000b28282620000b6565b5050565b620000c2828262000140565b620000b2576000828152602081815260408083206001600160a01b03851684529091529020805460ff19166001179055620000fc62000169565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b3390565b6000602082840312156200017f578081fd5b81516001600160a01b038116811462000196578182fd5b9392505050565b6133ae80620001ad6000396000f3fe608060405234801561001057600080fd5b50600436106102275760003560e01c8063711bfa2b11610130578063b67644b9116100b8578063e63ab1e91161007c578063e63ab1e914610436578063ea612e1f1461043e578063f2a75fe414610446578063f7b188a51461044e578063f90ce5ba1461045657610227565b8063b67644b9146103d2578063b998902f146103e5578063c81e25ab146103ed578063d547741f14610410578063d71ba7c41461042357610227565b806391b7f5ed116100ff57806391b7f5ed1461038957806391d148541461039c57806399176447146103af578063a217fddf146103c2578063a6471a1d146103ca57610227565b8063711bfa2b146103695780638456cb59146103715780638a5e8e32146103795780638b82547f1461038157610227565b8063420fc4db116101b357806351b17cd01161018257806351b17cd01461032057806351cff8d9146103285780635239af711461033b5780635c975abb1461034e578063628de8771461035657610227565b8063420fc4db146102dd57806347aab79b146102f25780634b410f1f146103055780634ba2363a1461031857610227565b806318c8572f116101fa57806318c8572f14610287578063248a9ca31461029c57806324b570a9146102af5780632f2ff15d146102b757806336568abe146102ca57610227565b806301ffc9a71461022c5780630392723514610255578063053f14da1461026a5780630ce72c181461027f575b600080fd5b61023f61023a366004612aa1565b61045e565b60405161024c9190612b77565b60405180910390f35b61025d61048b565b60405161024c9190613287565b610272610494565b60405161024c9190612b82565b61027261049a565b61029a610295366004612996565b6104be565b005b6102726102aa366004612a1b565b610771565b610272610786565b61029a6102c5366004612a33565b610830565b61029a6102d8366004612a33565b61086e565b6102e56108b0565b60405161024c9190612afb565b61029a610300366004612a7f565b6108bf565b61029a610313366004612ae1565b610ac0565b610272610b1c565b610272610b22565b61029a61033636600461297c565b610b5c565b61029a610349366004612996565b610c4f565b61023f610f3e565b61029a610364366004612a1b565b610f47565b61023f611088565b61029a6110b3565b610272611103565b610272611109565b61029a610397366004612a1b565b611132565b61023f6103aa366004612a33565b6111d0565b61029a6103bd366004612a1b565b6111fb565b6102726112b7565b6102726112bc565b61029a6103e0366004612a5e565b6112e0565b6102726114d2565b6104006103fb366004612a1b565b6114f6565b60405161024c9493929190612b4c565b61029a61041e366004612a33565b611530565b610272610431366004612a1b565b611558565b6102726115c7565b6102726115eb565b61023f6115f1565b61029a611603565b610272611651565b60006001600160e01b03198216637965db0b60e01b1480610483575061048382611657565b90505b919050565b60075460ff1681565b600a5481565b7fd73e46f8c7bd351d2c14e16efde573a514a9ba57c6a82aebf13a8376f9f0e6ca81565b6104c6610f3e565b156104ec5760405162461bcd60e51b81526004016104e390612e8a565b60405180910390fd5b6104f76000336111d0565b6105135760405162461bcd60e51b81526004016104e3906131ab565b6001600160a01b0386166105395760405162461bcd60e51b81526004016104e390612b8b565b60ff83161580159061055057508360ff168360ff16105b61056c5760405162461bcd60e51b81526004016104e390612cfe565b6000828152600260205260409020546001600160a01b0316156105a15760405162461bcd60e51b81526004016104e390612f3d565b60006105b3600160ff87161b876132e0565b6005546040516323b872dd60e01b81529192506001600160a01b0316906323b872dd906105e890339030908690600401612b0f565b602060405180830381600087803b15801561060257600080fd5b505af1158015610616573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061063a91906129ff565b6106565760405162461bcd60e51b81526004016104e390613182565b600086610661610b22565b61066b91906132a8565b604080516080810182526001600160a01b038b8116825260ff8a811660208085019182528915158587019081526060860188815260008d815260029093529690912094518554925191516001600160a01b031990931694169390931760ff60a01b1916600160a01b93909216929092021760ff60a81b1916600160a81b9115159190910217815590516001909101559050806107195760405162461bcd60e51b81526004016104e390612c6c565b61072560038583611670565b837f9b088e2c89b322a3c1d81515e1c88db3d386d022926f0e2d0b9b5813b7413d5883838b8a8a8960405161075f9695949392919061324e565b60405180910390a25050505050505050565b60009081526020819052604090206001015490565b6000610793600019610f47565b6005546040516370a0823160e01b81526000916001600160a01b0316906370a08231906107c4903090600401612afb565b60206040518083038186803b1580156107dc57600080fd5b505afa1580156107f0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108149190612ac9565b905080600954106108255780610829565b6009545b9150505b90565b61084461083c83610771565b6103aa611856565b6108605760405162461bcd60e51b81526004016104e390612bef565b61086a828261185a565b5050565b610876611856565b6001600160a01b0316816001600160a01b0316146108a65760405162461bcd60e51b81526004016104e3906131f1565b61086a82826118df565b6005546001600160a01b031681565b6108c7610f3e565b156108e45760405162461bcd60e51b81526004016104e390612e8a565b600082815260026020526040902080546001600160a01b0316331461091b5760405162461bcd60e51b81526004016104e390612d63565b8054600160a81b900460ff16156109445760405162461bcd60e51b81526004016104e390612f11565b805460ff600160a01b909104811690831611801561096a575060075460ff908116908316115b6109865760405162461bcd60e51b81526004016104e3906130d6565b61098e610b22565b8160010154116109b05760405162461bcd60e51b81526004016104e390613032565b80546000906109c990600160a01b900460ff1684613316565b90506000600160ff83161b6109dd86611558565b6109e791906132c0565b90506109f4600019610f47565b8254610a1490600160ff600160a01b909204821681901b9187161b6132ff565b60086000828254610a2591906132a8565b90915550506001830154610a3d906003908790611962565b825460ff60a01b1916600160a01b60ff86160217835580610a5c610b22565b610a6691906132a8565b60018401819055610a7b906003908790611670565b847faf27998ec15e9d3809edad41aec1b5551d8412e71bd07c91611a0237ead1dc8e858560010154604051610ab1929190613295565b60405180910390a25050505050565b610aea7fd73e46f8c7bd351d2c14e16efde573a514a9ba57c6a82aebf13a8376f9f0e6ca336111d0565b610b065760405162461bcd60e51b81526004016104e390612fa2565b6007805460ff191660ff92909216919091179055565b60095481565b600080600b5443610b3391906132ff565b9050600081600a54610b4591906132e0565b905080600654610b5591906132a8565b9250505090565b610b867f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb0828336111d0565b610ba25760405162461bcd60e51b81526004016104e390612e39565b6005546001600160a01b031663a9059cbb82610bbc610786565b6040518363ffffffff1660e01b8152600401610bd9929190612b33565b602060405180830381600087803b158015610bf357600080fd5b505af1158015610c07573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c2b91906129ff565b610c475760405162461bcd60e51b81526004016104e390613182565b506000600955565b610c57610f3e565b15610c745760405162461bcd60e51b81526004016104e390612e8a565b6001600160a01b038616610c9a5760405162461bcd60e51b81526004016104e390612b8b565b60ff831615801590610cb157508360ff168360ff16105b8015610cc5575060075460ff808516911611155b610ce15760405162461bcd60e51b81526004016104e390612cfe565b60003383604051602001610cf6929190612b33565b60408051601f198184030181529181528151602092830120600081815260029093529120549091506001600160a01b031615610d445760405162461bcd60e51b81526004016104e390612f3d565b6000610d56600160ff88161b886132e0565b6005546040516323b872dd60e01b81529192506001600160a01b0316906323b872dd90610d8b90339030908690600401612b0f565b602060405180830381600087803b158015610da557600080fd5b505af1158015610db9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ddd91906129ff565b610df95760405162461bcd60e51b81526004016104e390613182565b600087610e04610b22565b610e0e91906132a8565b9050610e1b600019610f47565b8660ff166001901b60086000828254610e3491906132a8565b9091555050604080516080810182526001600160a01b038b8116825260ff8a811660208085019182528915158587019081526060860188815260008b815260029093529690912094518554925191516001600160a01b031990931694169390931760ff60a01b1916600160a01b93909216929092021760ff60a81b1916600160a81b91151591909102178155905160019091015580610ee55760405162461bcd60e51b81526004016104e390612c6c565b610ef160038483611670565b827f9b088e2c89b322a3c1d81515e1c88db3d386d022926f0e2d0b9b5813b7413d5883838c8b8b8a604051610f2b9695949392919061324e565b60405180910390a2505050505050505050565b60015460ff1690565b600c5460005b8281101561105257610f5d6115f1565b15610f7257610f6a610b22565b600c55611052565b6000610f7c611109565b90506000610f8982611558565b1115610fa057610f97610b22565b600c5550611052565b600081815260026020526040812080546008805492936001600160a01b90930460ff169290921b92839290610fd69084906132ff565b90915550506001820154610feb9086906132ff565b610ff590826132e0565b6009600082825461100691906132a8565b9091555050600182015461101e906003908590611962565b5050600090815260026020526040812080546001600160b01b0319168155600101558061104a81613339565b915050610f4d565b81600c5461106091906132ff565b60085461106d91906132e0565b6009600082825461107e91906132a8565b9091555050505050565b60006110926115f1565b1561109f5750600061082d565b60006110ac610431611109565b1115905090565b6110dd7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a336111d0565b6110f95760405162461bcd60e51b81526004016104e390612bc0565b611101611cde565b565b60085481565b6000806111166003611d4f565b90506000811161112557600080fd5b6108296003826000611d91565b61115c7fdd24a0f121e5ab7c3e97c63eaaf859e0b46792c3e0edfd86e2b3ad50f63011d8336111d0565b6111785760405162461bcd60e51b81526004016104e390612fef565b600a541561118c57611188610b22565b6006555b600a81905543600b556040517fae46785019700e30375a5d7b4f91e32f8060ef085111f896ebf889450aa2ab5a906111c5908390612b82565b60405180910390a150565b6000828152602081815260408083206001600160a01b038516845290915290205460ff165b92915050565b6005546040516323b872dd60e01b81526001600160a01b03909116906323b872dd9061122f90339030908690600401612b0f565b602060405180830381600087803b15801561124957600080fd5b505af115801561125d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061128191906129ff565b61129d5760405162461bcd60e51b81526004016104e390613182565b80600960008282546112af91906132a8565b909155505050565b600081565b7f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb082881565b6112e8610f3e565b156113055760405162461bcd60e51b81526004016104e390612e8a565b600082815260026020526040902080546001600160a01b031661133a5760405162461bcd60e51b81526004016104e390613104565b611342610b22565b8160010154116113645760405162461bcd60e51b81526004016104e390613032565b600754815460ff918216600160a01b909104909116116113965760405162461bcd60e51b81526004016104e390612f6b565b80546000906113b3906001600160a01b90910460ff161b846132e0565b6005546040516323b872dd60e01b81529192506001600160a01b0316906323b872dd906113e890339030908690600401612b0f565b602060405180830381600087803b15801561140257600080fd5b505af1158015611416573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061143a91906129ff565b6114565760405162461bcd60e51b81526004016104e390613182565b6001820154611469906003908690611962565b82826001015461147991906132a8565b6001830181905561148e906003908690611670565b837faf5756c62d6c0722ef9be1f82bef97ab06ea5aea7f3eb8ad348422079f01d88d8284600101546040516114c4929190613240565b60405180910390a250505050565b7fdd24a0f121e5ab7c3e97c63eaaf859e0b46792c3e0edfd86e2b3ad50f63011d881565b600260205260009081526040902080546001909101546001600160a01b0382169160ff600160a01b8204811692600160a81b909204169084565b61153c61083c83610771565b6108a65760405162461bcd60e51b81526004016104e390612de9565b600081815260026020526040812080546001600160a01b031661158d5760405162461bcd60e51b81526004016104e390613104565b611595610b22565b8160010154116115a9576000915050610486565b6115b1610b22565b81600101546115c091906132ff565b9392505050565b7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a81565b600c5481565b60006115fd6003611e00565b15905090565b61162d7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a336111d0565b6116495760405162461bcd60e51b81526004016104e390612d2c565b611101611e10565b600b5481565b6001600160e01b031981166301ffc9a760e01b14919050565b8061168d5760405162461bcd60e51b81526004016104e390612ca1565b611698838383611e67565b156116b55760405162461bcd60e51b81526004016104e390613061565b82546000905b801561179657809150808310156116e557600090815260018086016020526040909120015461176d565b8083111561170657600090815260018501602052604090206002015461176d565b8083141561176d57600081815260018087016020908152604083206004018054808401825581855291842090910187905591839052905461174791906132ff565b600091825260018601602090815260408084208785526005019091529091205550611851565b6000828152600186016020526040812060060180549161178c83613339565b91905055506116bb565b600083815260018087016020908152604083208581558083018490556002810184905560038101805460ff19168417905560048101805480850182558186529290942090910187905591546117eb91906132ff565b60008681526005830160205260409020558261180957838655611843565b8284101561182c5760008381526001808801602052604090912001849055611843565b600083815260018701602052604090206002018490555b61184d8685611edb565b5050505b505050565b3390565b61186482826111d0565b61086a576000828152602081815260408083206001600160a01b03851684529091529020805460ff1916600117905561189b611856565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6118e982826111d0565b1561086a576000828152602081815260408083206001600160a01b03851684529091529020805460ff1916905561191e611856565b6001600160a01b0316816001600160a01b0316837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45050565b8061197f5760405162461bcd60e51b81526004016104e390612d8c565b61198a838383611e67565b6119a65760405162461bcd60e51b81526004016104e390612eb4565b60008181526001808501602090815260408084208685526005810190925283205460048201805492949193919290916119de916132ff565b815481106119fc57634e487b7160e01b600052603260045260246000fd5b9060005260206000200154905080836004018381548110611a2d57634e487b7160e01b600052603260045260246000fd5b6000918252602080832090910192909255828152600585019091526040902082905560048301805480611a7057634e487b7160e01b600052603160045260246000fd5b60019003818190600052602060002001600090559055600080846004018054905060001415611cd45760008681526001808a01602052604090912001541580611aca57506000868152600189016020526040902060020154155b15611ad6575084611b1e565b5060008581526001880160205260409020600201545b60008181526001808a016020526040909120015415611b1e576000908152600180890160205260409091200154611aec565b60008181526001808a016020526040909120015415611b525760008181526001808a01602052604090912001549150611b69565b600081815260018901602052604090206002015491505b60008181526001890160205260408082205484835291208190558015611bdb5760008181526001808b0160205260409091200154821415611bbf5760008181526001808b01602052604090912001839055611bd6565b600081815260018a01602052604090206002018390555b611bdf565b8289555b600082815260018a01602052604090206003015460ff1615878314611c7257611c098a848a612146565b600088815260018b8101602052604080832080830154878552828520938401819055845281842087905560028082015490840181905584529083208690556003908101549286905201805460ff191660ff9092161515919091179055919691611c728a896121c0565b8015611c8257611c828a8561222d565b611c8c8a836121c0565b60008381526001808c01602052604082208281559081018290556002810182905560038101805460ff1916905590611cc7600483018261291a565b6006820160009055505050505b5050505050505050565b611ce6610f3e565b15611d035760405162461bcd60e51b81526004016104e390612e8a565b6001805460ff1916811790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258611d38611856565b604051611d459190612afb565b60405180910390a1565b805480611d5e57506000610486565b5b600081815260018084016020526040909120015415610486576000908152600180830160205260409091200154611d5f565b6000611d9d8484612648565b611db95760405162461bcd60e51b81526004016104e390613132565b60008381526001850160205260409020600401805483908110611dec57634e487b7160e01b600052603260045260246000fd5b906000526020600020015490509392505050565b600061048382836000015461268f565b611e18610f3e565b611e345760405162461bcd60e51b81526004016104e390612c3e565b6001805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa611d38611856565b6000611e738483612648565b611e7f575060006115c0565b600082815260018501602090815260408083208684526005810190925290912054600490910180548592908110611ec657634e487b7160e01b600052603260045260246000fd5b90600052602060002001541490509392505050565b60005b82548214801590611f085750600082815260018401602052604080822054825290206003015460ff165b1561212457600082815260018085016020526040808320548084528184205484529220015481141561202b5760008181526001850160205260408082205482528082206002015480835291206003015490925060ff1615611fb1576000818152600180860160205260408083206003808201805460ff19908116909155878652838620820180548216905582548652928520018054909216909217905590829052549250612026565b6000818152600185016020526040902060020154831415611fd957809250611fd984846126bb565b50600082815260018085016020526040808320548084528184206003808201805460ff19908116909155825487529386200180549093169093179091559182905254612026908590612839565b61211e565b6000818152600180860160205260408083205483528083209091015480835291206003015490925060ff16156120a9576000818152600180860160205260408083206003808201805460ff1990811690915587865283862082018054821690558254865292852001805490921690921790559082905254925061211e565b60008181526001808601602052604090912001548314156120d1578092506120d18484612839565b50600082815260018085016020526040808320548084528184206003808201805460ff1990811690915582548752938620018054909316909317909155918290525461211e9085906126bb565b50611ede565b505080546000908152600190910160205260409020600301805460ff19169055565b60008181526001840160205260408082205484835291208190558061216d578284556121ba565b60008181526001808601602052604090912001548214156121a357600081815260018086016020526040909120018390556121ba565b600081815260018501602052604090206002018390555b50505050565b801561086a5760008181526001830160205260409020600201546121e590839061268f565b600082815260018085016020526040909120015461220490849061268f565b61220e91906132a8565b60009182526001830160205260409091206006810191909155546121c0565b60005b825482148015906122555750600082815260018401602052604090206003015460ff16155b156126295760008281526001808501602052604080832054808452922001548314156124525760008181526001850160205260408082206002015480835291206003015490925060ff16156122f9576000828152600180860160205260408083206003908101805460ff199081169091558585529190932090920180549092161790556122e284826126bb565b600081815260018501602052604090206002015491505b60008281526001808601602052604080832090910154825290206003015460ff161580156123445750600082815260018501602052604080822060020154825290206003015460ff16155b1561237157600082815260018581016020526040909120600301805460ff1916909117905591508161244d565b600082815260018501602052604080822060020154825290206003015460ff166123ee576000828152600180860160205260408083208083015484529083206003908101805460ff19908116909155938690520180549092161790556123d78483612839565b600081815260018501602052604090206002015491505b600081815260018501602052604080822060039081018054868552838520808401805460ff909316151560ff19938416179055825482169092556002909101548452919092209091018054909116905561244884826126bb565b835492505b612623565b6000818152600180860160205260408083209091015480835291206003015490925060ff16156124d1576000828152600180860160205260408083206003908101805460ff199081169091558585529190932090920180549092161790556124ba8482612839565b600081815260018086016020526040909120015491505b600082815260018501602052604080822060020154825290206003015460ff1615801561251c575060008281526001808601602052604080832090910154825290206003015460ff16155b1561254957600082815260018581016020526040909120600301805460ff19169091179055915081612623565b60008281526001808601602052604080832090910154825290206003015460ff166125c857600082815260018086016020526040808320600281015484529083206003908101805460ff19908116909155938690520180549092161790556125b184836126bb565b600081815260018086016020526040909120015491505b60008181526001808601602052604080832060039081018054878652838620808401805460ff909316151560ff1993841617905582548216909255930154845292209091018054909116905561261e8482612839565b835492505b50612230565b506000908152600190910160205260409020600301805460ff19169055565b600081612657575060006111f5565b8254821415612668575060016111f5565b600082815260018401602052604090205415612686575060016111f5565b50600092915050565b60008181526001830160205260408120600681015460048201546126b391906132a8565b949350505050565b60008181526001808401602052604080832060028101805491548286529285209093015493859052918390559091801561270357600081815260018601602052604090208490555b600083815260018601602052604090208290558161272357828555612770565b60008281526001808701602052604090912001548414156127595760008281526001808701602052604090912001839055612770565b600082815260018601602052604090206002018390555b60008381526001808701602052604080832090910186905585825290208381556002015461279f90869061268f565b60008581526001808801602052604090912001546127be90879061268f565b6127c891906132a8565b60008581526001870160205260408082206006019290925584815220600201546127f390869061268f565b600084815260018088016020526040909120015461281290879061268f565b61281c91906132a8565b600093845260019095016020525050604090206006019190915550565b6000818152600180840160205260408083209182018054925483855291842060020154938590528390559091801561287f57600081815260018601602052604090208490555b600083815260018601602052604090208290558161289f578285556128ec565b60008281526001860160205260409020600201548414156128d557600082815260018601602052604090206002018390556128ec565b600082815260018087016020526040909120018390555b600083815260018601602052604080822060029081018790558683529120848155015461279f90869061268f565b5080546000825590600052602060002090810190612938919061293b565b50565b5b80821115612950576000815560010161293c565b5090565b80356001600160a01b038116811461048657600080fd5b803560ff8116811461048657600080fd5b60006020828403121561298d578081fd5b6115c082612954565b60008060008060008060c087890312156129ae578182fd5b6129b787612954565b9550602087013594506129cc6040880161296b565b93506129da6060880161296b565b92506080870135915060a08701356129f18161336a565b809150509295509295509295565b600060208284031215612a10578081fd5b81516115c08161336a565b600060208284031215612a2c578081fd5b5035919050565b60008060408385031215612a45578182fd5b82359150612a5560208401612954565b90509250929050565b60008060408385031215612a70578182fd5b50508035926020909101359150565b60008060408385031215612a91578182fd5b82359150612a556020840161296b565b600060208284031215612ab2578081fd5b81356001600160e01b0319811681146115c0578182fd5b600060208284031215612ada578081fd5b5051919050565b600060208284031215612af2578081fd5b6115c08261296b565b6001600160a01b0391909116815260200190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b6001600160a01b03929092168252602082015260400190565b6001600160a01b0394909416845260ff92909216602084015215156040830152606082015260800190565b901515815260200190565b90815260200190565b6020808252818101527f6f776e65722063616e6e6f7420626520746865207a65726f2061646472657373604082015260600190565b6020808252601590820152746f6e6c79207061757365722063616e20706175736560581b604082015260600190565b6020808252602f908201527f416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e60408201526e0818591b5a5b881d1bc819dc985b9d608a1b606082015260800190565b60208082526014908201527314185d5cd8589b194e881b9bdd081c185d5cd95960621b604082015260600190565b6020808252818101527f6e6f726d616c6973656442616c616e63652063616e6e6f74206265207a65726f604082015260600190565b60208082526039908201527f4f7264657253746174697374696373547265652834303529202d2056616c756560408201527f20746f20696e736572742063616e6e6f74206265207a65726f00000000000000606082015260800190565b6020808252601490820152730d2dcecc2d8d2c840c4eac6d6cae840c8cae0e8d60631b604082015260600190565b60208082526017908201527f6f6e6c79207061757365722063616e20756e7061757365000000000000000000604082015260600190565b6020808252600f908201526e3737ba103130ba31b41037bbb732b960891b604082015260600190565b60208082526039908201527f4f7264657253746174697374696373547265652834303729202d2056616c756560408201527f20746f2064656c6574652063616e6e6f74206265207a65726f00000000000000606082015260800190565b60208082526030908201527f416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e60408201526f2061646d696e20746f207265766f6b6560801b606082015260800190565b60208082526031908201527f6f6e6c792072656469737472696275746f722063616e20776974686472617720604082015270199c9bdb481d1a194818dbdb9d1c9858dd607a1b606082015260800190565b60208082526010908201526f14185d5cd8589b194e881c185d5cd95960821b604082015260600190565b6020808252603a908201527f4f7264657253746174697374696373547265652834303829202d2056616c756560408201527f20746f2064656c65746520646f6573206e6f742065786973742e000000000000606082015260800190565b602080825260129082015271626174636820697320696d6d757461626c6560701b604082015260600190565b602080825260149082015273626174636820616c72656164792065786973747360601b604082015260600190565b60208082526018908201527f626174636820746f6f20736d616c6c20746f2072656e65770000000000000000604082015260600190565b6020808252602d908201527f6f6e6c79206465707468206f7261636c652063616e20736574206d696e696d7560408201526c0da40c4c2e8c6d040c8cae0e8d609b1b606082015260800190565b60208082526023908201527f6f6e6c79207072696365206f7261636c652063616e207365742074686520707260408201526269636560e81b606082015260800190565b60208082526015908201527418985d18da08185b1c9958591e48195e1c1a5c9959605a1b604082015260600190565b6020808252604f908201527f4f7264657253746174697374696373547265652834303629202d2056616c756560408201527f20616e64204b65792070616972206578697374732e2043616e6e6f742062652060608201526e34b739b2b93a32b21030b3b0b4b71760891b608082015260a00190565b6020808252601490820152736465707468206e6f7420696e6372656173696e6760601b604082015260600190565b60208082526014908201527318985d18da08191bd95cc81b9bdd08195e1a5cdd60621b604082015260600190565b60208082526030908201527f4f7264657253746174697374696373547265652834303429202d2056616c756560408201526f103237b2b9903737ba1032bc34b9ba1760811b606082015260800190565b6020808252600f908201526e3330b4b632b2103a3930b739b332b960891b604082015260600190565b60208082526026908201527f6f6e6c792061646d696e6973747261746f722063616e2075736520636f7079206040820152651b595d1a1bd960d21b606082015260800190565b6020808252602f908201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560408201526e103937b632b9903337b91039b2b63360891b606082015260800190565b918252602082015260400190565b95865260208601949094526001600160a01b0392909216604085015260ff9081166060850152166080830152151560a082015260c00190565b60ff91909116815260200190565b60ff929092168252602082015260400190565b600082198211156132bb576132bb613354565b500190565b6000826132db57634e487b7160e01b81526012600452602481fd5b500490565b60008160001904831182151516156132fa576132fa613354565b500290565b60008282101561331157613311613354565b500390565b600060ff821660ff84168082101561333057613330613354565b90039392505050565b600060001982141561334d5761334d613354565b5060010190565b634e487b7160e01b600052601160045260246000fd5b801515811461293857600080fdfea2646970667358221220588261a0c250c9fe990d92230d787547ce7dd2f79fe07ca40f100b2ae07a3beb64736f6c63430008010033

SWAP_PRICE_ORACLE_BIN=0x608060405234801561001057600080fd5b506040516104b83803806104b883398101604081905261002f9161007e565b600080546001600160a01b031916339081178255604051909182917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3506001919091556002556100a1565b60008060408385031215610090578182fd5b505080516020909101519092909150565b610408806100b06000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c806398d5fdca1161005b57806398d5fdca146100dd578063a035b1fe146100f8578063dd4899321461010f578063f2fde38b1461011857600080fd5b8063710f2dd11461008d578063715018a6146100a25780638d6cc56d146100aa5780638da5cb5b146100bd575b600080fd5b6100a061009b366004610385565b61012b565b005b6100a061019a565b6100a06100b8366004610385565b61020e565b6000546040516001600160a01b0390911681526020015b60405180910390f35b600154600254604080519283526020830191909152016100d4565b61010160015481565b6040519081526020016100d4565b61010160025481565b6100a0610126366004610357565b61026d565b6000546001600160a01b0316331461015e5760405162461bcd60e51b81526004016101559061039d565b60405180910390fd5b60028190556040518181527f0f45948e42a1e34f851df8452200e744563dae2029a99b8178ff6530458bd3df906020015b60405180910390a150565b6000546001600160a01b031633146101c45760405162461bcd60e51b81526004016101559061039d565b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b031633146102385760405162461bcd60e51b81526004016101559061039d565b60018190556040518181527fae46785019700e30375a5d7b4f91e32f8060ef085111f896ebf889450aa2ab5a9060200161018f565b6000546001600160a01b031633146102975760405162461bcd60e51b81526004016101559061039d565b6001600160a01b0381166102fc5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610155565b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b600060208284031215610368578081fd5b81356001600160a01b038116811461037e578182fd5b9392505050565b600060208284031215610396578081fd5b5035919050565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260408201526060019056fea264697066735822122069737c178b79be7973d71a433150ff2571d211a983a7f5a5ba0f7dba3d57fd7664736f6c63430008040033

INCENTIVES_PRICE_ORACLE_BIN=0x6101a06040526000608090815261042d60a05261041860c05261040860e052610400610100526103fd610120526103f7610140526103eb610160526103d46101805261004f90600290600961017d565b506003805460ff1916905534801561006657600080fd5b5060405162000c7a38038062000c7a833981016040819052610087916101e3565b6100926000336100bd565b600380546001600160a01b0390921661010002610100600160a81b0319909216919091179055610211565b6100c782826100cb565b5050565b6100d58282610150565b6100c7576000828152602081815260408083206001600160a01b03851684529091529020805460ff1916600117905561010c610179565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b3390565b8280548282559060005260206000209081019282156101be579160200282015b828111156101be578251829061ffff1690559160200191906001019061019d565b506101ca9291506101ce565b5090565b5b808211156101ca57600081556001016101cf565b6000602082840312156101f4578081fd5b81516001600160a01b038116811461020a578182fd5b9392505050565b610a5980620002216000396000f3fe608060405234801561001057600080fd5b506004361061010a5760003560e01c806391b7f5ed116100a2578063b187bd2611610071578063b187bd26146101ec578063d547741f146101f4578063e0632c6414610207578063f7b188a51461021c578063fb8d8101146102245761010a565b806391b7f5ed146101b657806391d14854146101c95780639d1b464a146101dc578063a217fddf146101e45761010a565b806336568abe116100de57806336568abe1461018057806372bf079e146101935780637f386b6c146101a65780638456cb59146101ae5761010a565b806280248f1461010f57806301ffc9a714610138578063248a9ca3146101585780632f2ff15d1461016b575b600080fd5b61012261011d3660046107aa565b61022c565b60405161012f9190610836565b60405180910390f35b61014b6101463660046107fc565b61024d565b60405161012f919061082b565b6101226101663660046107aa565b610278565b61017e6101793660046107c2565b61028d565b005b61017e61018e3660046107c2565b6102d4565b61017e6101a13660046107aa565b610316565b610122610499565b61017e61049f565b61017e6101c43660046107aa565b6104d5565b61014b6101d73660046107c2565b6105b5565b6101226105de565b6101226105e4565b61014b6105e9565b61017e6102023660046107c2565b6105f2565b61020f61061a565b60405161012f919061083f565b61017e61062e565b610122610661565b6002818154811061023c57600080fd5b600091825260209091200154905081565b60006001600160e01b03198216637965db0b60e01b1480610272575061027282610685565b92915050565b60009081526020819052604090206001015490565b6102a161029983610278565b6101d761069e565b6102c65760405162461bcd60e51b81526004016102bd90610853565b60405180910390fd5b6102d082826106a2565b5050565b6102dc61069e565b6001600160a01b0316816001600160a01b03161461030c5760405162461bcd60e51b81526004016102bd90610989565b6102d08282610727565b60035460ff166104965761034a7f74b366a297145849fa9687e16ecad1e3a60cf84f6c2256ae73e20a9f76669804336105b5565b6103665760405162461bcd60e51b81526004016102bd906108a2565b61040081806103875760405162461bcd60e51b81526004016102bd90610929565b6008831115610394575060085b6000600282815481106103b757634e487b7160e01b600052603260045260246000fd5b9060005260206000200154905082600154826103d391906109f8565b6103dd91906109d8565b600181905561040011156103f2576104006001555b6003546001546040516391b7f5ed60e01b81526101009092046001600160a01b0316916391b7f5ed9161042791600401610836565b600060405180830381600087803b15801561044157600080fd5b505af1158015610455573d6000803e3d6000fd5b505050507fae46785019700e30375a5d7b4f91e32f8060ef085111f896ebf889450aa2ab5a60015460405161048a9190610836565b60405180910390a15050505b50565b61040081565b6104aa6000336105b5565b6104c65760405162461bcd60e51b81526004016102bd90610952565b6003805460ff19166001179055565b6104e06000336105b5565b6104fc5760405162461bcd60e51b81526004016102bd90610952565b6001819055610400811015610512576104006001555b6003546001546040516391b7f5ed60e01b81526101009092046001600160a01b0316916391b7f5ed9161054791600401610836565b600060405180830381600087803b15801561056157600080fd5b505af1158015610575573d6000803e3d6000fd5b505050507fae46785019700e30375a5d7b4f91e32f8060ef085111f896ebf889450aa2ab5a6001546040516105aa9190610836565b60405180910390a150565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b60015481565b600081565b60035460ff1681565b6105fe61029983610278565b61030c5760405162461bcd60e51b81526004016102bd906108d9565b60035461010090046001600160a01b031681565b6106396000336105b5565b6106555760405162461bcd60e51b81526004016102bd90610952565b6003805460ff19169055565b7f74b366a297145849fa9687e16ecad1e3a60cf84f6c2256ae73e20a9f7666980481565b6001600160e01b031981166301ffc9a760e01b14919050565b3390565b6106ac82826105b5565b6102d0576000828152602081815260408083206001600160a01b03851684529091529020805460ff191660011790556106e361069e565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b61073182826105b5565b156102d0576000828152602081815260408083206001600160a01b03851684529091529020805460ff1916905561076661069e565b6001600160a01b0316816001600160a01b0316837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45050565b6000602082840312156107bb578081fd5b5035919050565b600080604083850312156107d4578081fd5b8235915060208301356001600160a01b03811681146107f1578182fd5b809150509250929050565b60006020828403121561080d578081fd5b81356001600160e01b031981168114610824578182fd5b9392505050565b901515815260200190565b90815260200190565b6001600160a01b0391909116815260200190565b6020808252602f908201527f416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e60408201526e0818591b5a5b881d1bc819dc985b9d608a1b606082015260800190565b6020808252601d908201527f63616c6c6572206973206e6f7420612070726963652075706461746572000000604082015260600190565b60208082526030908201527f416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e60408201526f2061646d696e20746f207265766f6b6560801b606082015260800190565b6020808252600f908201526e756e6578706563746564207a65726f60881b604082015260600190565b60208082526017908201527f63616c6c6572206973206e6f74207468652061646d696e000000000000000000604082015260600190565b6020808252602f908201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560408201526e103937b632b9903337b91039b2b63360891b606082015260800190565b6000826109f357634e487b7160e01b81526012600452602481fd5b500490565b6000816000190483118215151615610a1e57634e487b7160e01b81526011600452602481fd5b50029056fea264697066735822122045e178dca92703012576d8ded12cb19bc6b90d3fd93f03262067d4d08f6e9be664736f6c63430008010033

STAKING_BIN=0x60806040523480156200001157600080fd5b506040516200167f3803806200167f833981016040819052620000349162000184565b6001805460ff19169055600380546001600160401b0319166001600160401b03831617600160401b600160e01b031916680100000000000000006001600160a01b0385160217905562000089600033620000bd565b620000b57f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a33620000bd565b5050620001d6565b620000c98282620000cd565b5050565b620000d9828262000157565b620000c9576000828152602081815260408083206001600160a01b03851684529091529020805460ff191660011790556200011362000180565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b3390565b6000806040838503121562000197578182fd5b82516001600160a01b0381168114620001ae578283fd5b60208401519092506001600160401b0381168114620001cb578182fd5b809150509250929050565b61149980620001e66000396000f3fe608060405234801561001057600080fd5b50600436106101425760003560e01c806391d14854116100b8578063abe385431161007c578063abe3854314610283578063d547741f14610296578063e34c4527146102a9578063e63ab1e9146102bc578063ede41302146102c4578063f7b188a5146102d757610142565b806391d148541461023a578063a0d22b211461024d578063a217fddf14610260578063a6471a1d14610268578063a6ce31d41461027057610142565b8063420fc4db1161010a578063420fc4db146101cb57806348962b93146101e05780635c975abb146101f3578063837fd16a146101fb5780638456cb591461020e5780638fee64071461021657610142565b806301ffc9a7146101475780631ed2cd4014610170578063248a9ca3146101855780632f2ff15d146101a557806336568abe146101b8575b600080fd5b61015a610155366004610fb5565b6102df565b6040516101679190611065565b60405180910390f35b61018361017e366004610ef8565b61030c565b005b610198610193366004610f51565b61057d565b6040516101679190611070565b6101836101b3366004610f69565b610592565b6101836101c6366004610f69565b6105d0565b6101d3610612565b6040516101679190611014565b6101986101ee366004610f51565b610628565b61015a61063d565b610183610209366004610f94565b610646565b6101836106ff565b610229610224366004610f51565b61074f565b604051610167959493929190611087565b61015a610248366004610f69565b61078b565b6101d361025b366004610f51565b6107b4565b6101986107d3565b6101986107d8565b61018361027e366004610f94565b6107fc565b610198610291366004610f51565b61092f565b6101836102a4366004610f69565b61095b565b6101836102b7366004610f94565b610983565b610198610bf7565b6101986102d2366004610f51565b610c1b565b610183610c30565b60006001600160e01b03198216637965db0b60e01b1480610304575061030482610c7e565b90505b919050565b61031461063d565b1561033a5760405162461bcd60e51b8152600401610331906111ad565b60405180910390fd5b6001600160a01b03831633146103625760405162461bcd60e51b81526004016103319061130e565b600354600090849061037d9067ffffffffffffffff16610c97565b8460405160200161039093929190610fdd565b60408051601f19818403018152918152815160209283012060008181526002909352912060040154909150829060ff1615610409576103ce82610cf6565b6103ea5760405162461bcd60e51b8152600401610331906112d7565b600082815260026020526040902060010154610406908461141e565b90505b6003546040516323b872dd60e01b8152600160401b9091046001600160a01b0316906323b872dd9061044390339030908890600401611028565b602060405180830381600087803b15801561045d57600080fd5b505af1158015610471573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104959190610f2a565b6104b15760405162461bcd60e51b815260040161033190611345565b817f61e979698346a2aa868a3a9f08d30c846174841dc9b074bbf2a82d20554bc6828287436040516104e5939291906113ff565b60405180910390a26040805160a08101825283815260208082019384526001600160a01b03978816828401908152436060840190815260016080850181815260009889526002948590529590972093518455945195830195909555935193810180546001600160a01b031916949097169390931790955551600382015592516004909301805460ff1916931515939093179092555050565b60009081526020819052604090206001015490565b6105a661059e8361057d565b610248610d0d565b6105c25760405162461bcd60e51b8152600401610331906110e0565b6105cc8282610d11565b5050565b6105d8610d0d565b6001600160a01b0316816001600160a01b0316146106085760405162461bcd60e51b81526004016103319061136e565b6105cc8282610d96565b600354600160401b90046001600160a01b031681565b60009081526002602052604090206001015490565b60015460ff1690565b6106707f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb08283361078b565b61068c5760405162461bcd60e51b81526004016103319061120e565b60008281526002602052604090206004015460ff16156105cc577f340439a63c1ee2404f5b7010cab559b4dcbfc28b8baab9acade354fd688ae2b982826040516106d7929190611079565b60405180910390a16106e9814361141e565b6000838152600260205260409020600301555050565b6107297f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a3361078b565b6107455760405162461bcd60e51b8152600401610331906113bd565b61074d610e19565b565b6002602081905260009182526040909120805460018201549282015460038301546004909301549193926001600160a01b039091169160ff1685565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b600090815260026020819052604090912001546001600160a01b031690565b600081565b7f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb082881565b6108267f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb08283361078b565b6108425760405162461bcd60e51b815260040161033190611251565b7f0956b50d4d586f6b9c90800d4e713bd2b866e044decd047e6d70ea20314ab3088282604051610873929190611079565b60405180910390a160008281526002602052604090206004015460ff16156105cc576000828152600260205260409020600101548110156108ee57600082815260026020526040812060010180548392906108cf908490611436565b90915550506000828152600260205260409020436003909101556105cc565b50600090815260026020819052604082208281556001810183905590810180546001600160a01b03191690556003810191909155600401805460ff19169055565b600061093a82610cf6565b610945576000610304565b5060009081526002602052604090206001015490565b61096761059e8361057d565b6106085760405162461bcd60e51b81526004016103319061115d565b61098b61063d565b6109a75760405162461bcd60e51b81526004016103319061112f565b600082815260026020819052604090912001546001600160a01b031633146109e15760405162461bcd60e51b8152600401610331906111d7565b6000828152600260205260409020600101548190811115610a1057506000828152600260205260409020600101545b600083815260026020526040902060010154811015610b0e5760008381526002602052604081206001018054839290610a4a908490611436565b9091555050600083815260026020526040908190204360039182015554905163a9059cbb60e01b8152600160401b9091046001600160a01b03169063a9059cbb90610a9b903390859060040161104c565b602060405180830381600087803b158015610ab557600080fd5b505af1158015610ac9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610aed9190610f2a565b610b095760405162461bcd60e51b8152600401610331906110b5565b610bf2565b60008381526002602081905260408083208381556001810184905591820180546001600160a01b03191690556003808301939093556004918201805460ff191690559154915163a9059cbb60e01b8152600160401b9092046001600160a01b03169163a9059cbb91610b8491339186910161104c565b602060405180830381600087803b158015610b9e57600080fd5b505af1158015610bb2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bd69190610f2a565b610bf25760405162461bcd60e51b8152600401610331906110b5565b505050565b7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a81565b60009081526002602052604090206003015490565b610c5a7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a3361078b565b610c765760405162461bcd60e51b815260040161033190611293565b61074d610e8a565b6001600160e01b031981166301ffc9a760e01b14919050565b600881811b67ff00ff00ff00ff001666ff00ff00ff00ff9290911c9190911617601081811b67ffff0000ffff00001665ffff0000ffff9290911c9190911617602081811b6bffffffffffffffff000000001691901c63ffffffff161790565b600090815260026020526040902060030154431190565b3390565b610d1b828261078b565b6105cc576000828152602081815260408083206001600160a01b03851684529091529020805460ff19166001179055610d52610d0d565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b610da0828261078b565b156105cc576000828152602081815260408083206001600160a01b03851684529091529020805460ff19169055610dd5610d0d565b6001600160a01b0316816001600160a01b0316837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45050565b610e2161063d565b15610e3e5760405162461bcd60e51b8152600401610331906111ad565b6001805460ff1916811790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258610e73610d0d565b604051610e809190611014565b60405180910390a1565b610e9261063d565b610eae5760405162461bcd60e51b81526004016103319061112f565b6001805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa610e73610d0d565b80356001600160a01b038116811461030757600080fd5b600080600060608486031215610f0c578283fd5b610f1584610ee1565b95602085013595506040909401359392505050565b600060208284031215610f3b578081fd5b81518015158114610f4a578182fd5b9392505050565b600060208284031215610f62578081fd5b5035919050565b60008060408385031215610f7b578182fd5b82359150610f8b60208401610ee1565b90509250929050565b60008060408385031215610fa6578182fd5b50508035926020909101359150565b600060208284031215610fc6578081fd5b81356001600160e01b031981168114610f4a578182fd5b60609390931b6bffffffffffffffffffffffff1916835260c09190911b6001600160c01b0319166014830152601c820152603c0190565b6001600160a01b0391909116815260200190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b6001600160a01b03929092168252602082015260400190565b901515815260200190565b90815260200190565b918252602082015260400190565b94855260208501939093526001600160a01b0391909116604084015260608301521515608082015260a00190565b60208082526011908201527019985a5b1959081dda5d1a191c985dd85b607a1b604082015260600190565b6020808252602f908201527f416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e60408201526e0818591b5a5b881d1bc819dc985b9d608a1b606082015260800190565b60208082526014908201527314185d5cd8589b194e881b9bdd081c185d5cd95960621b604082015260600190565b60208082526030908201527f416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e60408201526f2061646d696e20746f207265766f6b6560801b606082015260800190565b60208082526010908201526f14185d5cd8589b194e881c185d5cd95960821b604082015260600190565b6020808252601d908201527f6f6e6c79206f776e65722063616e207769746864726177207374616b65000000604082015260600190565b60208082526023908201527f6f6e6c792072656469737472696275746f722063616e20667265657a65207374604082015262616b6560e81b606082015260800190565b60208082526022908201527f6f6e6c792072656469737472696275746f722063616e20736c617368207374616040820152616b6560f01b606082015260800190565b60208082526024908201527f6f6e6c79207061757365722063616e20756e70617573652074686520636f6e746040820152631c9858dd60e21b606082015260800190565b60208082526018908201527f6f7665726c61792063757272656e746c792066726f7a656e0000000000000000604082015260600190565b6020808252601b908201527f6f6e6c79206f776e65722063616e20757064617465207374616b650000000000604082015260600190565b6020808252600f908201526e3330b4b632b2103a3930b739b332b960891b604082015260600190565b6020808252602f908201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560408201526e103937b632b9903337b91039b2b63360891b606082015260800190565b60208082526022908201527f6f6e6c79207061757365722063616e2070617573652074686520636f6e74726160408201526118dd60f21b606082015260800190565b9283526001600160a01b03919091166020830152604082015260600190565b600082198211156114315761143161144d565b500190565b6000828210156114485761144861144d565b500390565b634e487b7160e01b600052601160045260246000fdfea26469706673582212202ba2dfb5b8697528a42c6d7afaef526659e483fefe8b791843f1a96edddaddfe64736f6c63430008010033

REDISTRIBUTION_BIN=0x60806040526001600160801b0360065567016345785d8a00006009556098600d553480156200002d57600080fd5b5060405162003055380380620030558339810160408190526200005091620001c3565b60018054600380546001600160a01b03199081166001600160a01b03888116919091179092556001600160a81b0319909216610100868316021790925560028054909116918316919091179055620000aa600033620000df565b620000d67f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a33620000df565b5050506200020c565b620000eb8282620000ef565b5050565b620000fb828262000179565b620000eb576000828152602081815260408083206001600160a01b03851684529091529020805460ff1916600117905562000135620001a2565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b3390565b80516001600160a01b0381168114620001be57600080fd5b919050565b600080600060608486031215620001d8578283fd5b620001e384620001a6565b9250620001f360208501620001a6565b91506200020360408501620001a6565b90509250925092565b612e39806200021c6000396000f3fe608060405234801561001057600080fd5b50600436106102115760003560e01c806377c75d1011610125578063b78a52a7116100ad578063d547741f1161007c578063d547741f146103ec578063dfbf53ae146103ff578063e63ab1e914610407578063ec5ffac21461040f578063fb00f2f31461041757610211565b8063b78a52a7146103ab578063c1d810d5146103be578063ce987745146103d1578063d1e8b63d146103e457610211565b80638a19c8bc116100f45780638a19c8bc146103785780638b649b94146103805780638d8b64281461038857806391d1485414610390578063a217fddf146103a357610211565b806377c75d10146103305780637fe019c61461034357806382b39b1b1461034b578063832206261461037057610211565b80634e71d92d116101a857806364c34a851161017757806364c34a85146102ec57806369bfac01146102f457806369da9114146102fc5780636f94aaf21461030457806372286cba1461030c57610211565b80634e71d92d146102cc5780635c975abb146102d45780635d4844ea146102dc57806362fd29ae146102e457610211565b80632f2ff15d116101e45780632f2ff15d146102895780632f3906da1461029e57806336568abe146102a65780634a2e7598146102b957610211565b806301ffc9a714610216578063183500961461023f578063248a9ca3146102545780632a4e624914610274575b600080fd5b61022961022436600461237e565b61042a565b6040516102369190612527565b60405180910390f35b610247610457565b6040516102369190612459565b610267610262366004612273565b61046b565b6040516102369190612532565b61027c610480565b60405161023691906124a3565b61029c61029736600461228b565b61057d565b005b6102296105bb565b61029c6102b436600461228b565b610610565b61029c6102c73660046122ba565b610652565b61029c610a9f565b61022961125d565b610247611266565b610267611275565b6102676112f8565b610267611389565b61024761138f565b61026761139e565b61031f61031a366004612273565b6113a4565b60405161023695949392919061253b565b61022961033e366004612273565b6113f2565b6102676117a8565b61035e610359366004612273565b6117ae565b6040516102369695949392919061246d565b610267611801565b610267611808565b61026761181d565b610229611823565b61022961039e36600461228b565b611854565b61026761187d565b6102296103b9366004612319565b611882565b61029c6103cc366004612344565b611a25565b6102676103df366004612344565b611e2e565b610229611e67565b61029c6103fa36600461228b565b611e93565b61035e611ebb565b610267611edf565b610267611f03565b6102296104253660046122e5565b611f09565b60006001600160e01b03198216637965db0b60e01b148061044f575061044f82611f42565b90505b919050565b60015461010090046001600160a01b031681565b60009081526020819052604090206001015490565b606061048a611823565b6104af5760405162461bcd60e51b81526004016104a6906125c9565b60405180910390fd5b60006104b9611808565b9050600b5481146104dc5760405162461bcd60e51b81526004016104a690612a96565b6005805480602002602001604051908101604052809291908181526020016000905b828210156105725760008481526020908190206040805160c0810182526006860290920180546001600160a01b031683526001808201548486015260028201549284019290925260038101546060840152600481015460808401526005015460ff1660a083015290835290920191016104fe565b505050509150505b90565b6105916105898361046b565b61039e611f5b565b6105ad5760405162461bcd60e51b81526004016104a69061257a565b6105b78282611f5f565b5050565b600080600d54436105cc9190612dae565b90506004600d546105dd9190612bfb565b81101580156105f957506002600d546105f69190612bfb565b81105b1561060857600191505061057a565b600091505090565b610618611f5b565b6001600160a01b0316816001600160a01b0316146106485760405162461bcd60e51b81526004016104a690612b4b565b6105b78282611fe4565b61065a61125d565b156106775760405162461bcd60e51b81526004016104a69061287a565b61067f611e67565b61069b5760405162461bcd60e51b81526004016104a6906126c1565b60006106a5611808565b9050818111156106c75760405162461bcd60e51b81526004016104a690612958565b818110156106e75760405162461bcd60e51b81526004016104a6906125f5565b6003546040516348962b9360e01b81526000916001600160a01b0316906348962b9390610718908790600401612532565b60206040518083038186803b15801561073057600080fd5b505afa158015610744573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061076891906123a6565b905060095481101561078c5760405162461bcd60e51b81526004016104a690612725565b60035460405163a0d22b2160e01b815233916001600160a01b03169063a0d22b21906107bc908890600401612532565b60206040518083038186803b1580156107d457600080fd5b505afa1580156107e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061080c9190612257565b6001600160a01b0316146108325760405162461bcd60e51b81526004016104a69061298f565b600d54610840906002612d3a565b61084a9043612d7c565b6003546040516376f2098160e11b81526001600160a01b039091169063ede413029061087a908890600401612532565b60206040518083038186803b15801561089257600080fd5b505afa1580156108a6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108ca91906123a6565b106108e75760405162461bcd60e51b81526004016104a690612a0b565b600a548214610902576108fc6004600061217a565b600a8290555b60045460005b8181101561097457856004828154811061093257634e487b7160e01b600052603260045260246000fd5b90600052602060002090600502016000015414156109625760405162461bcd60e51b81526004016104a6906127df565b8061096c81612d93565b915050610908565b50506040805160a08101825294855233602086019081529085019182526060850195865260006080860181815260048054600181018255925295517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b60059092029182015590517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19c820180546001600160a01b0319166001600160a01b0390921691909117905590517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19d82015593517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19e8501555050517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19f909101805460ff1916911515919091179055565b610aa761125d565b15610ac45760405162461bcd60e51b81526004016104a69061287a565b610acc611823565b610ae85760405162461bcd60e51b81526004016104a6906125c9565b6000610af2611808565b9050600b548114610b155760405162461bcd60e51b81526004016104a690612a96565b600c548111610b365760405162461bcd60e51b81526004016104a690612acd565b6000610b40612067565b6004546005546040519293506000928392839283928392839290917f6752c5e71c95fb93bc7137adeb115a33fa4e54e2683e33d3f90c2bb1c4b6c2a590610b88908490612532565b60405180910390a17f4c03de6a759749c0c9387b7014634dc5c6af610e1366023d90751c783a998f8d81604051610bbf9190612532565b60405180910390a160005b82811015610cdc5760048181548110610bf357634e487b7160e01b600052603260045260246000fd5b600091825260209091206004600590920201015460ff16610cca57600354600480546001600160a01b039092169163837fd16a919084908110610c4657634e487b7160e01b600052603260045260246000fd5b6000918252602090912060059091020154610c62876002612c68565b600d54610c70906007612d3a565b610c7a9190612d3a565b6040518363ffffffff1660e01b8152600401610c979291906123e4565b600060405180830381600087803b158015610cb157600080fd5b505af1158015610cc5573d6000803e3d6000fd5b505050505b80610cd481612d93565b915050610bca565b5060005b81811015610e385760058181548110610d0957634e487b7160e01b600052603260045260246000fd5b90600052602060002090600602016003015489610d269190612be3565b98508981604051602001610d3b92919061241a565b60408051601f1981840301815291905280516020909101206006549097508088169650610d69906001612be3565b60058281548110610d8a57634e487b7160e01b600052603260045260246000fd5b906000526020600020906006020160030154610da69190612d3a565b610db08a88612d3a565b1015610e265760058181548110610dd757634e487b7160e01b600052603260045260246000fd5b906000526020600020906006020160040154945060058181548110610e0c57634e487b7160e01b600052603260045260246000fd5b600091825260209091206005600690920201015460ff1693505b80610e3081612d93565b915050610ce0565b507f34e8eda4cd857cd2865becf58a47748f31415f4a382cbb2cc0c64b9a27c717be8484604051610e6a929190612569565b60405180910390a16000610e7c6120e2565b90506000805b838110156111445760058181548110610eab57634e487b7160e01b600052603260045260246000fd5b90600052602060002090600602016004015487148015610f04575060058181548110610ee757634e487b7160e01b600052603260045260246000fd5b600091825260209091206005600690920201015460ff8781169116145b156110735760058181548110610f2a57634e487b7160e01b600052603260045260246000fd5b9060005260206000209060060201600301548a610f479190612be3565b99508282604051602001610f5c92919061241a565b60408051601f198184030181529190528051602090910120600654909950808a169850610f8a906001612be3565b60058281548110610fab57634e487b7160e01b600052603260045260246000fd5b906000526020600020906006020160030154610fc79190612d3a565b610fd18b8a612d3a565b10156110615760058181548110610ff857634e487b7160e01b600052603260045260246000fd5b600091825260209091206006909102018054600e80546001600160a01b0319166001600160a01b039092169190911790556001810154600f55600281015460105560038101546011556004810154601255600501546013805460ff191660ff9092169190911790555b8161106b81612d93565b925050611132565b600354600580546001600160a01b039092169163837fd16a9190849081106110ab57634e487b7160e01b600052603260045260246000fd5b9060005260206000209060060201600101548860026110ca9190612c68565b600d546110d8906003612d3a565b6110e29190612d3a565b6040518363ffffffff1660e01b81526004016110ff9291906123e4565b600060405180830381600087803b15801561111957600080fd5b505af115801561112d573d6000803e3d6000fd5b505050505b8061113c81612d93565b915050610e82565b507f2756aa512df0e32847d196f374c5b2fa5f30705f2fe3a75b8baeac52f2af5b39600e6040516111759190612b9a565b60405180910390a1600154600e546040516351cff8d960e01b81526001600160a01b036101009093048316926351cff8d9926111b692911690600401612459565b600060405180830381600087803b1580156111d057600080fd5b505af11580156111e4573d6000803e3d6000fd5b505060025460405163395f83cf60e11b81526001600160a01b0390911692506372bf079e9150611218908490600401612532565b600060405180830381600087803b15801561123257600080fd5b505af1158015611246573d6000803e3d6000fd5b505050600c9c909c55505050505050505050505050565b60015460ff1690565b6003546001600160a01b031681565b600080611280611808565b61128b906001612be3565b600854600b54919250906112a0906001612be3565b8211156112f25760006001600b54846112b99190612d7c565b6112c39190612d7c565b905081816040516020016112d89291906123e4565b604051602081830303815290604052805190602001209150505b91505090565b600080611303611808565b905061130d611e67565b806113295750600b54811180156113295750611327611823565b155b1561133e57611336611801565b91505061057a565b6113466105bb565b80156113535750600b5481145b156113705760405162461bcd60e51b81526004016104a69061263b565b611378611823565b1561138557611336611275565b5090565b600a5481565b6002546001600160a01b031681565b600c5481565b600481815481106113b457600080fd5b6000918252602090912060059091020180546001820154600283015460038401546004909401549294506001600160a01b0390911692909160ff1685565b60006113fc611823565b6114185760405162461bcd60e51b81526004016104a690612771565b6000611422611808565b9050600b5481146114455760405162461bcd60e51b81526004016104a690612a96565b600c5481116114665760405162461bcd60e51b81526004016104a690612acd565b6000611470612067565b90506000808080808080805b6005548110156115d657600581815481106114a757634e487b7160e01b600052603260045260246000fd5b906000526020600020906006020160030154886114c49190612be3565b975088816040516020016114d992919061241a565b60408051601f1981840301815291905280516020909101206006549095508086169450611507906001612be3565b6005828154811061152857634e487b7160e01b600052603260045260246000fd5b9060005260206000209060060201600301546115449190612d3a565b61154e8986612d3a565b10156115c4576005818154811061157557634e487b7160e01b600052603260045260246000fd5b9060005260206000209060060201600401549250600581815481106115aa57634e487b7160e01b600052603260045260246000fd5b600091825260209091206005600690920201015460ff1691505b806115ce81612d93565b91505061147c565b5060006115e16120e2565b90506000805b600554811015611794576005818154811061161257634e487b7160e01b600052603260045260246000fd5b9060005260206000209060060201600401548514801561166b57506005818154811061164e57634e487b7160e01b600052603260045260246000fd5b600091825260209091206005600690920201015460ff8581169116145b15611782576005818154811061169157634e487b7160e01b600052603260045260246000fd5b906000526020600020906006020160030154896116ae9190612be3565b985082826040516020016116c392919061241a565b60408051601f19818403018152919052805160209091012060065490975080881696506116f1906001612be3565b6005828154811061171257634e487b7160e01b600052603260045260246000fd5b90600052602060002090600602016003015461172e9190612d3a565b6117388a88612d3a565b1015611774576005818154811061175f57634e487b7160e01b600052603260045260246000fd5b90600052602060002090600602016001015497505b8161177e81612d93565b9250505b8061178c81612d93565b9150506115e7565b505050999093149998505050505050505050565b600b5481565b600581815481106117be57600080fd5b60009182526020909120600690910201805460018201546002830154600384015460048501546005909501546001600160a01b0390941695509193909260ff1686565b60008061128b5b6000600d54436118189190612bfb565b905090565b600d5481565b60006002600d546118349190612bfb565b600d546118419043612dae565b1061184e5750600161057a565b50600090565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b600081565b600061188c611823565b8061189a575061189a611e67565b6118b65760405162461bcd60e51b81526004016104a6906128a4565b600d546118c4906002612d3a565b6118ce9043612d7c565b6003546040516376f2098160e11b81526001600160a01b039091169063ede41302906118fe908790600401612532565b60206040518083038186803b15801561191657600080fd5b505afa15801561192a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061194e91906123a6565b1061196b5760405162461bcd60e51b81526004016104a6906129db565b6009546003546040516348962b9360e01b81526001600160a01b03909116906348962b939061199e908790600401612532565b60206040518083038186803b1580156119b657600080fd5b505afa1580156119ca573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119ee91906123a6565b1015611a0c5760405162461bcd60e51b81526004016104a690612916565b611a1e83611a186112f8565b84611f09565b9392505050565b611a2d61125d565b15611a4a5760405162461bcd60e51b81526004016104a69061287a565b611a526105bb565b611a6e5760405162461bcd60e51b81526004016104a6906128e9565b6000611a78611808565b9050600a548114611a9b5760405162461bcd60e51b81526004016104a6906127a8565b600b548114611ac157611aac6112f8565b600755611abb6005600061219e565b600b8190555b6000611acf86868686611e2e565b60045490915060005b81811015611e0f578760048281548110611b0257634e487b7160e01b600052603260045260246000fd5b906000526020600020906005020160000154148015611b52575060048181548110611b3d57634e487b7160e01b600052603260045260246000fd5b90600052602060002090600502016003015483145b15611dfd57611b9660048281548110611b7b57634e487b7160e01b600052603260045260246000fd5b90600052602060002090600502016000015460075489611f09565b611bb25760405162461bcd60e51b81526004016104a690612680565b60048181548110611bd357634e487b7160e01b600052603260045260246000fd5b600091825260209091206004600590920201015460ff1615611c075760405162461bcd60e51b81526004016104a6906126ee565b600160048281548110611c2a57634e487b7160e01b600052603260045260246000fd5b906000526020600020906005020160040160006101000a81548160ff02191690831515021790555060056040518060c0016040528060048481548110611c8057634e487b7160e01b600052603260045260246000fd5b6000918252602091829020600160059092020101546001600160a01b0316825260048054929091019185908110611cc757634e487b7160e01b600052603260045260246000fd5b906000526020600020906005020160000154815260200160048481548110611cff57634e487b7160e01b600052603260045260246000fd5b9060005260206000209060050201600201548152602001896002611d239190612c68565b60048581548110611d4457634e487b7160e01b600052603260045260246000fd5b906000526020600020906005020160020154611d609190612d3a565b815260208082018a905260ff8b8116604093840152845460018082018755600096875295839020855160069092020180546001600160a01b0319166001600160a01b039092169190911781559184015194820194909455908201516002820155606082015160038201556080820151600482015560a0909101516005909101805460ff191691909216179055611df4612148565b50505050611e28565b80611e0781612d93565b915050611ad8565b5060405162461bcd60e51b81526004016104a690612b14565b50505050565b600084848484604051602001611e4794939291906123f2565b604051602081830303815290604052805190602001209050949350505050565b60006004600d54611e789190612bfb565b600d54611e859043612dae565b101561184e5750600161057a565b611e9f6105898361046b565b6106485760405162461bcd60e51b81526004016104a69061282a565b600e54600f546010546011546012546013546001600160a01b039095169460ff1686565b7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a81565b60095481565b600060ff8216611f1b57506001611a1e565b611f2a60ff8316610100612d59565b611f35906002612c55565b8484181090509392505050565b6001600160e01b031981166301ffc9a760e01b14919050565b3390565b611f698282611854565b6105b7576000828152602081815260408083206001600160a01b03851684529091529020805460ff19166001179055611fa0611f5b565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b611fee8282611854565b156105b7576000828152602081815260408083206001600160a01b03851684529091529020805460ff19169055612023611f5b565b6001600160a01b0316816001600160a01b0316837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45050565b6060612071611823565b61208d5760405162461bcd60e51b81526004016104a690612a52565b6000612097611808565b9050600b5481146120ba5760405162461bcd60e51b81526004016104a690612a96565b6008546040516020016120cd91906123be565b60405160208183030381529060405291505090565b60606120ec611823565b6121085760405162461bcd60e51b81526004016104a690612a52565b6000612112611808565b9050600b5481146121355760405162461bcd60e51b81526004016104a690612a96565b6008546040516020016120cd91906123d1565b6008544460405160200161215d9291906123e4565b60408051601f198184030181529190528051602090910120600855565b508054600082556005029060005260206000209081019061219b91906121bf565b50565b508054600082556006029060005260206000209081019061219b91906121ff565b5b808211156113855760008082556001820180546001600160a01b031916905560028201819055600382015560048101805460ff191690556005016121c0565b5b808211156113855780546001600160a01b03191681556000600182018190556002820181905560038201819055600482015560058101805460ff19169055600601612200565b803560ff8116811461045257600080fd5b600060208284031215612268578081fd5b8151611a1e81612dee565b600060208284031215612284578081fd5b5035919050565b6000806040838503121561229d578081fd5b8235915060208301356122af81612dee565b809150509250929050565b6000806000606084860312156122ce578081fd5b505081359360208301359350604090920135919050565b6000806000606084860312156122f9578283fd5b833592506020840135915061231060408501612246565b90509250925092565b6000806040838503121561232b578182fd5b8235915061233b60208401612246565b90509250929050565b60008060008060808587031215612359578081fd5b8435935061236960208601612246565b93969395505050506040820135916060013590565b60006020828403121561238f578081fd5b81356001600160e01b031981168114611a1e578182fd5b6000602082840312156123b7578081fd5b5051919050565b908152600360fc1b602082015260210190565b908152603160f81b602082015260210190565b918252602082015260400190565b93845260f89290921b6001600160f81b03191660208401526021830152604182015260610190565b60008351815b8181101561243a5760208187018101518583015201612420565b818111156124485782828501525b509190910191825250602001919050565b6001600160a01b0391909116815260200190565b6001600160a01b03969096168652602086019490945260408501929092526060840152608083015260ff1660a082015260c00190565b602080825282518282018190526000919060409081850190868401855b8281101561251a57815180516001600160a01b0316855286810151878601528581015186860152606080820151908601526080808201519086015260a09081015160ff169085015260c090930192908501906001016124c0565b5091979650505050505050565b901515815260200190565b90815260200190565b9485526001600160a01b03939093166020850152604084019190915260608301521515608082015260a00190565b91825260ff16602082015260400190565b6020808252602f908201527f416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e60408201526e0818591b5a5b881d1bc819dc985b9d608a1b606082015260800190565b6020808252601290820152716e6f7420696e20636c61696d20706861736560701b604082015260600190565b60208082526026908201527f73706563696669656420636f6d6d697420726f756e64206e6f742073746172746040820152651959081e595d60d21b606082015260800190565b60208082526025908201527f63616e27742072657475726e2076616c75652061667465722066697273742072604082015264195d99585b60da1b606082015260800190565b60208082526021908201527f616e63686f72206f7574206f662073656c66207265706f7274656420646570746040820152600d60fb1b606082015260800190565b6020808252601390820152726e6f7420696e20636f6d6d697420706861736560681b604082015260600190565b6020808252601c908201527f7061727469636970616e7420616c72656164792072657665616c656400000000604082015260600190565b6020808252602c908201527f6e6f6465206d7573742068617665207374616b6564206174206c65617374206d60408201526b696e696d756d207374616b6560a01b606082015260800190565b60208082526019908201527f77696e6e6572206e6f742064657465726d696e65642079657400000000000000604082015260600190565b60208082526019908201527f726f756e64207265636569766564206e6f20636f6d6d69747300000000000000604082015260600190565b6020808252602b908201527f7061727469636970616e7420616c726561647920636f6d6d697474656420696e60408201526a081d1a1a5cc81c9bdd5b9960aa1b606082015260800190565b60208082526030908201527f416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e60408201526f2061646d696e20746f207265766f6b6560801b606082015260800190565b60208082526010908201526f14185d5cd8589b194e881c185d5cd95960821b604082015260600190565b60208082526025908201527f6e6f742064657465726d696e656420666f72207570636f6d696e6720726f756e60408201526419081e595d60da1b606082015260800190565b6020808252601390820152726e6f7420696e2072657665616c20706861736560681b604082015260600190565b60208082526022908201527f7374616b6520616d6f756e7420646f6573206e6f74206d656574206d696e696d604082015261756d60f01b606082015260800190565b6020808252601b908201527f73706563696669656420636f6d6d697420726f756e64206f7665720000000000604082015260600190565b6020808252602c908201527f6f776e6572206d757374206d617463682073656e64657220746f20626520616260408201526b1b19481d1bc818dbdb5b5a5d60a21b606082015260800190565b6020808252601690820152757374616b65207570646174656420726563656e746c7960501b604082015260600190565b60208082526027908201527f6e6f6465206d7573742068617665207374616b6564206265666f7265206c61736040820152661d081c9bdd5b9960ca1b606082015260800190565b60208082526024908201527f6e6f742064657465726d696e656420666f722063757272656e7420726f756e64604082015263081e595d60e21b606082015260800190565b60208082526019908201527f726f756e64207265636569766564206e6f2072657665616c7300000000000000604082015260600190565b60208082526027908201527f726f756e6420616c7265616479207265636569766564207375636365737366756040820152666c20636c61696d60c81b606082015260800190565b6020808252601a908201527f6e6f206d61746368696e6720636f6d6d6974206f722068617368000000000000604082015260600190565b6020808252602f908201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560408201526e103937b632b9903337b91039b2b63360891b606082015260800190565b81546001600160a01b031681526001820154602082015260028201546040820152600382015460608201526004820154608082015260059091015460ff1660a082015260c00190565b60008219821115612bf657612bf6612dc2565b500190565b600082612c0a57612c0a612dd8565b500490565b80825b6001808611612c215750612c4c565b818704821115612c3357612c33612dc2565b80861615612c4057918102915b9490941c938002612c12565b94509492505050565b6000611a1e60001961ffff851684612c76565b6000611a1e60001960ff8516845b600082612c8557506001611a1e565b81612c9257506000611a1e565b8160018114612ca85760028114612cb257612cdf565b6001915050611a1e565b60ff841115612cc357612cc3612dc2565b6001841b915084821115612cd957612cd9612dc2565b50611a1e565b5060208310610133831016604e8410600b8410161715612d12575081810a83811115612d0d57612d0d612dc2565b611a1e565b612d1f8484846001612c0f565b808604821115612d3157612d31612dc2565b02949350505050565b6000816000190483118215151615612d5457612d54612dc2565b500290565b600061ffff83811690831681811015612d7457612d74612dc2565b039392505050565b600082821015612d8e57612d8e612dc2565b500390565b6000600019821415612da757612da7612dc2565b5060010190565b600082612dbd57612dbd612dd8565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b6001600160a01b038116811461219b57600080fdfea2646970667358221220aca43eaccb9e8e6c0c00adb6f59b37f7e76ba4981c52a19d9eefbd08f85864f864736f6c63430008010033

function to_hex() {
  printf '0x%x\n' $1
}

function to_abi_hex() {
  printf "%0$2x" "$1" | tr ' ' '0'
}

function to_abi_address() {
  left_pad $(echo "$1" | cut -c 3-) 64
}

function left_pad() {
  printf "%0$2s" "$1" | tr ' ' '0'
}

function jsonrpc_raw() {
  curl -s -X POST -H "Content-Type: application/json" --data "{\"jsonrpc\":\"2.0\",\"method\":\"$1\",\"params\":$2, \"id\":\"1\" }" "$BACKEND"
}

function jsonrpc() {
  local ret
  ret=$(jsonrpc_raw "$1" "$2")
  if test $? -eq 7
  then
    echo could not connect to backend >&2
    return 2
  fi
  
  if echo "$ret" | jq -e .error > /dev/null
  then
    echo "$ret" | jq -e .error >&2
    return 1
  else
    echo "$ret" | jq -e .result
  fi
}

function eth_accounts() {
  jsonrpc eth_accounts "[]"
}

function primary_account() {
  eth_accounts | jq -r '.[0]'
}

function eth_sendTransaction() {
  local args=''
  [ ! -z ${FROM+x} ] && args="$args --arg from $FROM"
  [ ! -z ${TO+x} ] && args="$args --arg to $TO"
  [ ! -z ${VALUE+x} ] && args="$args --arg value $(to_hex $VALUE)"
  [ ! -z ${DATA+x} ] && args="$args --arg data $DATA"
  [ ! -z ${GAS+x} ] && args="$args --arg gas $(to_hex $GAS)"
  jsonrpc eth_sendTransaction "$(jq -n $args '[. + $ARGS.named'])" | jq -r
}

function wait_for_tx() {
  local txhash="$1"
  while
    local receipt=$(jsonrpc eth_getTransactionReceipt "[\"$txhash\"]")
    [ "$receipt" == "null" ]
  do
    sleep 1
  done
  echo "$receipt"
}

function wait_for_deploy() {
  wait_for_tx "$@" | jq -r .contractAddress
}

function mint_erc20() {
  local data=$(echo $TOKEN_MINT_DATA | sed -e "s.__RECIPIENT__.$(to_abi_address $2)." -e "s.__AMOUNT__.$(to_abi_hex $3 64).")
  wait_for_tx $(FROM=$(primary_account) TO="$1" DATA="$data" eth_sendTransaction)
}

function grantPriceOracleRole() {
  wait_for_tx $(FROM=$(primary_account) TO="$1" DATA="0x2f2ff15ddd24a0f121e5ab7c3e97c63eaaf859e0b46792c3e0edfd86e2b3ad50f63011d8$(to_abi_address $2)" eth_sendTransaction)
}

function grantRedistributorRole() {
  wait_for_tx $(FROM=$(primary_account) TO="$1" DATA="0x2f2ff15d3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb0828$(to_abi_address $2)" eth_sendTransaction)
}

function grantPriceUpdaterRole() {
  wait_for_tx $(FROM=$(primary_account) TO="$1" DATA="0x2f2ff15d74b366a297145849fa9687e16ecad1e3a60cf84f6c2256ae73e20a9f76669804$(to_abi_address $2)" eth_sendTransaction)
}

PRIMARY_ACCOUNT=$(primary_account)
echo found primary account $PRIMARY_ACCOUNT >&2

TOKEN_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA=$TOKEN_BIN GAS=3500000 eth_sendTransaction))
echo deployed token to $TOKEN_ADDRESS >&2

PATCHED_LEGACY_FACTORY_BIN=$(echo $LEGACY_FACTORY_BIN | sed -e "s.__TOKEN_ADDRESS__.$(to_abi_address $TOKEN_ADDRESS).")
LEGACY_FACTORY_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA=$PATCHED_LEGACY_FACTORY_BIN GAS=3500000 eth_sendTransaction))
echo deployed legacy factory to $LEGACY_FACTORY_ADDRESS >&2

POSTAGE_STAMP_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${POSTAGE_STAMP_BIN}$(to_abi_address $TOKEN_ADDRESS)" GAS=3500000 eth_sendTransaction))
echo deployed postage stamp contract to $POSTAGE_STAMP_ADDRESS >&2

SWAP_PRICE_ORACLE_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${SWAP_PRICE_ORACLE_BIN}$(to_abi_hex 100000 64)$(to_abi_hex 1 64)" GAS=3500000 eth_sendTransaction))
echo deployed swap price oracle contract to $SWAP_PRICE_ORACLE_ADDRESS >&2

PATCHED_FACTORY_BIN=$(echo $FACTORY_BIN | sed -e "s.__TOKEN_ADDRESS__.$(to_abi_address $TOKEN_ADDRESS).")
FACTORY_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA=$PATCHED_FACTORY_BIN GAS=3500000 eth_sendTransaction))
echo deployed factory to $FACTORY_ADDRESS >&2

INCENTIVES_PRICE_ORACLE_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${INCENTIVES_PRICE_ORACLE_BIN}$(to_abi_address $POSTAGE_STAMP_ADDRESS)" GAS=3500000 eth_sendTransaction))
echo deployed postage stamp contract to $INCENTIVES_PRICE_ORACLE_ADDRESS >&2

STAKING_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${STAKING_BIN}$(to_abi_hex 12345 64)$(to_abi_address $TOKEN_ADDRESS)" GAS=3500000 eth_sendTransaction))
echo deployed staking contract to $STAKING_ADDRESS >&2

REDISTRIBUTION_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${REDISTRIBUTION_BIN}$(to_abi_address $STAKING_ADDRESS)$(to_abi_address $POSTAGE_STAMP_ADDRESS)$(to_abi_address $INCENTIVES_PRICE_ORACLE_ADDRESS)" GAS=3500000 eth_sendTransaction))
echo deployed redistribution contract to $REDISTRIBUTION_ADDRESS >&2

grantPriceOracleRole $POSTAGE_STAMP_ADDRESS $PRIMARY_ACCOUNT > /dev/null &
grantRedistributorRole $POSTAGE_STAMP_ADDRESS $REDISTRIBUTION_ADDRESS > /dev/null &
grantRedistributorRole $STAKING_ADDRESS $REDISTRIBUTION_ADDRESS > /dev/null &
grantPriceUpdaterRole $INCENTIVES_PRICE_ORACLE_ADDRESS $REDISTRIBUTION_ADDRESS > /dev/null &

for NODEACCOUNT in $BZZACCOUNTS
do
  echo "minting tokens for $NODEACCOUNT" >&2
  mint_erc20 $TOKEN_ADDRESS 0x$NODEACCOUNT 1000000000000000000 > /dev/null &
  echo "sending eth to $NODEACCOUNT" >&2
  wait_for_tx $(FROM=$PRIMARY_ACCOUNT TO=0x$NODEACCOUNT VALUE=1000000000000000000 eth_sendTransaction) > /dev/null &
done

wait

echo "----- USE THE COMMANDS BELOW TO SETUP YOUR TERMINALS -----" >&2

echo export BEE_SWAP_ENDPOINT=$BACKEND
echo export BEE_SWAP_FACTORY_ADDRESS=$FACTORY_ADDRESS
echo export BEE_SWAP_PRICE_ORACLE_ADDRESS=$SWAP_PRICE_ORACLE_ADDRESS
echo export BEE_SWAP_LEGACY_FACTORY_ADDRESSES=$LEGACY_FACTORY_ADDRESS
echo export BEE_POSTAGE_STAMP_ADDRESS=$POSTAGE_STAMP_ADDRESS
echo export BEE_STAKING_ADDRESS=$STAKING_ADDRESS
echo export BEE_REDISTRIBUTION_ADDRESS=$REDISTRIBUTION_ADDRESS
echo export BEE_INCENTIVES_PRICE_ORACLE_ADDRESS=$INCENTIVES_PRICE_ORACLE_ADDRESS