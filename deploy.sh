#!/usr/bin/env bash
set -e
set -o errtrace
set -o pipefail
set -u
#set -x

[ -z ${BACKEND+x} ] && BACKEND=http://localhost:8545
[ -z ${BZZACCOUNTS+x} ] && BZZACCOUNTS="bf4f9637c281ddfb1fbd3be5a1dae6531d408f11 c45d64d8f9642a604db93c59fd38492b262391ca"

TOKEN_BIN=0x608060405262000024620000186200002a60201b60201c565b6200003260201b60201c565b62000257565b600033905090565b6200004d8160036200009360201b620012a81790919060201c565b8073ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a250565b620000a582826200017760201b60201c565b1562000119576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f526f6c65733a206163636f756e7420616c72656164792068617320726f6c650081525060200191505060405180910390fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141562000200576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180620018506022913960400191505060405180910390fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6115e980620002676000396000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c8063983b2d5611610071578063983b2d56146102e7578063986502751461032b578063a457c2d714610335578063a9059cbb1461039b578063aa271e1a14610401578063dd62ed3e1461045d576100b4565b8063095ea7b3146100b957806318160ddd1461011f57806323b872dd1461013d57806339509351146101c357806340c10f191461022957806370a082311461028f575b600080fd5b610105600480360360408110156100cf57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506104d5565b604051808215151515815260200191505060405180910390f35b6101276104f3565b6040518082815260200191505060405180910390f35b6101a96004803603606081101561015357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506104fd565b604051808215151515815260200191505060405180910390f35b61020f600480360360408110156101d957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506105d6565b604051808215151515815260200191505060405180910390f35b6102756004803603604081101561023f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610689565b604051808215151515815260200191505060405180910390f35b6102d1600480360360208110156102a557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610704565b6040518082815260200191505060405180910390f35b610329600480360360208110156102fd57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061074c565b005b6103336107bd565b005b6103816004803603604081101561034b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506107cf565b604051808215151515815260200191505060405180910390f35b6103e7600480360360408110156103b157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061089c565b604051808215151515815260200191505060405180910390f35b6104436004803603602081101561041757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506108ba565b604051808215151515815260200191505060405180910390f35b6104bf6004803603604081101561047357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506108d7565b6040518082815260200191505060405180910390f35b60006104e96104e261095e565b8484610966565b6001905092915050565b6000600254905090565b600061050a848484610b5d565b6105cb8461051661095e565b6105c6856040518060600160405280602881526020016114fd60289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600061057c61095e565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e139092919063ffffffff16565b610966565b600190509392505050565b600061067f6105e361095e565b8461067a85600160006105f461095e565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ed390919063ffffffff16565b610966565b6001905092915050565b600061069b61069661095e565b6108ba565b6106f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260308152602001806114ac6030913960400191505060405180910390fd5b6106fa8383610f5b565b6001905092915050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b61075c61075761095e565b6108ba565b6107b1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260308152602001806114ac6030913960400191505060405180910390fd5b6107ba81611116565b50565b6107cd6107c861095e565b611170565b565b60006108926107dc61095e565b8461088d85604051806060016040528060258152602001611590602591396001600061080661095e565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e139092919063ffffffff16565b610966565b6001905092915050565b60006108b06108a961095e565b8484610b5d565b6001905092915050565b60006108d08260036111ca90919063ffffffff16565b9050919050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156109ec576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602481526020018061156c6024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610a72576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806114646022913960400191505060405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610be3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806115476025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610c69576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001806114416023913960400191505060405180910390fd5b610cd481604051806060016040528060268152602001611486602691396000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e139092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610d67816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ed390919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000838311158290610ec0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e85578082015181840152602081019050610e6a565b50505050905090810190601f168015610eb25780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600080828401905083811015610f51576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610ffe576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b61101381600254610ed390919063ffffffff16565b60028190555061106a816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610ed390919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b61112a8160036112a890919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f660405160405180910390a250565b61118481600361138390919063ffffffff16565b8073ffffffffffffffffffffffffffffffffffffffff167fe94479a9f7e1952cc78f2d6baab678adc1b772d936c6583def489e524cb6669260405160405180910390a250565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611251576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806115256022913960400191505060405180910390fd5b8260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6112b282826111ca565b15611325576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f526f6c65733a206163636f756e7420616c72656164792068617320726f6c650081525060200191505060405180910390fd5b60018260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b61138d82826111ca565b6113e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806114dc6021913960400191505060405180910390fd5b60008260000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e63654d696e746572526f6c653a2063616c6c657220646f6573206e6f74206861766520746865204d696e74657220726f6c65526f6c65733a206163636f756e7420646f6573206e6f74206861766520726f6c6545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e6365526f6c65733a206163636f756e7420697320746865207a65726f206164647265737345524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa265627a7a723158209365f743f4259fd57b70b0249fd5414047db47568854d4cd343852d2e5ad185164736f6c634300050b0032526f6c65733a206163636f756e7420697320746865207a65726f2061646472657373

LEGACY_FACTORY_BIN=0x608060405234801561001057600080fd5b50604051611c1b380380611c1b8339818101604052602081101561003357600080fd5b5051600180546001600160a01b0319166001600160a01b03909216919091179055611bb8806100636000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063576d727114610046578063a6021ace1461008e578063c70242ad14610096575b600080fd5b6100726004803603604081101561005c57600080fd5b506001600160a01b0381351690602001356100d0565b604080516001600160a01b039092168252519081900360200190f35b610072610198565b6100bc600480360360208110156100ac57600080fd5b50356001600160a01b03166101a7565b604080519115158252519081900360200190f35b600154604051600091829185916001600160a01b03169085906100f2906101bc565b80846001600160a01b03168152602001836001600160a01b031681526020018281526020019350505050604051809103906000f080158015610138573d6000803e3d6000fd5b506001600160a01b03811660008181526020818152604091829020805460ff19166001179055815192835290519293507fc0ffc525a1c7689549d7f79b49eca900e61ac49b43d977f680bcc3b36224c00492918290030190a19392505050565b6001546001600160a01b031681565b60006020819052908152604090205460ff1681565b6119b9806101ca8339019056fe608060405234801561001057600080fd5b506040516119b93803806119b98339818101604052606081101561003357600080fd5b5080516020820151604090920151600680546001600160a01b039384166001600160a01b0319918216179091556001805493909416921691909117909155600055611936806100836000396000f3fe608060405234801561001057600080fd5b50600436106101425760003560e01c8063b6343b0d116100b8578063b7ec1a331161007c578063b7ec1a33146104e2578063c49f91d3146104ea578063c76a4d31146104f2578063d4c9a8e814610518578063e0bcf13a146105d1578063fc0c546a146105d957610142565b8063b6343b0d1461043e578063b648b4171461048a578063b69ef8a8146104a6578063b7770350146104ae578063b7998907146104da57610142565b80631d1438481161010a5780631d1438481461037d5780632e1a7d4d146103a1578063338f3fed146103be578063488b017c146103ea57806381f03fcb146103f2578063946f46a21461041857610142565b80630d5f26591461014757806312101021146102025780631357e1dc1461021c57806315c3343f146102245780631633fb1d1461022c575b600080fd5b6102006004803603606081101561015d57600080fd5b6001600160a01b0382351691602081013591810190606081016040820135600160201b81111561018c57600080fd5b82018360208201111561019e57600080fd5b803590602001918460018302840111600160201b831117156101bf57600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295506105e1945050505050565b005b61020a6105f4565b60408051918252519081900360200190f35b61020a6105fa565b61020a610600565b610200600480360360c081101561024257600080fd5b6001600160a01b03823581169260208101359091169160408201359190810190608081016060820135600160201b81111561027c57600080fd5b82018360208201111561028e57600080fd5b803590602001918460018302840111600160201b831117156102af57600080fd5b91908080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092958435959094909350604081019250602001359050600160201b81111561030957600080fd5b82018360208201111561031b57600080fd5b803590602001918460018302840111600160201b8311171561033c57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610624945050505050565b61038561069e565b604080516001600160a01b039092168252519081900360200190f35b610200600480360360208110156103b757600080fd5b50356106ad565b610200600480360360408110156103d457600080fd5b506001600160a01b03813516906020013561080e565b61020a61093a565b61020a6004803603602081101561040857600080fd5b50356001600160a01b031661095e565b6102006004803603602081101561042e57600080fd5b50356001600160a01b0316610970565b6104646004803603602081101561045457600080fd5b50356001600160a01b0316610a4b565b604080519485526020850193909352838301919091526060830152519081900360800190f35b610492610a72565b604080519115158252519081900360200190f35b61020a610a82565b610200600480360360408110156104c457600080fd5b506001600160a01b038135169060200135610afe565b61020a610c20565b61020a610c44565b61020a610c5f565b61020a6004803603602081101561050857600080fd5b50356001600160a01b0316610c83565b6102006004803603606081101561052e57600080fd5b6001600160a01b0382351691602081013591810190606081016040820135600160201b81111561055d57600080fd5b82018360208201111561056f57600080fd5b803590602001918460018302840111600160201b8311171561059057600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610cb4945050505050565b61020a610dc7565b610385610dcd565b6105ef338484600085610ddc565b505050565b60005481565b60035481565b7f48ebe6deff4a5ee645c01506a026031e2a945d6f41f1f4e5098ad65347492c1281565b61063a61063430338789876111cb565b84611243565b6001600160a01b0316866001600160a01b0316146106895760405162461bcd60e51b81526004018080602001828103825260298152602001806118656029913960400191505060405180910390fd5b6106968686868585610ddc565b505050505050565b6006546001600160a01b031681565b6006546001600160a01b03163314610705576040805162461bcd60e51b815260206004820152601660248201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604482015290519081900360640190fd5b61070d610c44565b81111561074b5760405162461bcd60e51b81526004018080602001828103825260288152602001806118d96028913960400191505060405180910390fd5b6001546006546040805163a9059cbb60e01b81526001600160a01b039283166004820152602481018590529051919092169163a9059cbb9160448083019260209291908290030181600087803b1580156107a457600080fd5b505af11580156107b8573d6000803e3d6000fd5b505050506040513d60208110156107ce57600080fd5b505161080b5760405162461bcd60e51b815260040180806020018281038252602781526020018061183e6027913960400191505060405180910390fd5b50565b6006546001600160a01b03163314610866576040805162461bcd60e51b815260206004820152601660248201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604482015290519081900360640190fd5b61086e610a82565b60055461087b90836112a5565b11156108b85760405162461bcd60e51b81526004018080602001828103825260348152602001806117a16034913960400191505060405180910390fd5b6001600160a01b038216600090815260046020526040902080546108dc90836112a5565b81556005546108eb90836112a5565b60055560006003820155805460408051918252516001600160a01b038516917f2506c43272ded05d095b91dbba876e66e46888157d3e078db5691496e96c5fad919081900360200190a2505050565b7f7d824962dd0f01520922ea1766c987b1db570cd5db90bdba5ccf5e320607950281565b60026020526000908152604090205481565b6001600160a01b03811660009081526004602052604090206003810154421080159061099f5750600381015415155b6109da5760405162461bcd60e51b81526004018080602001828103825260258152602001806118196025913960400191505060405180910390fd5b600181015481546109ea91611306565b8155600060038201556001810154600554610a0491611306565b600555805460408051918252516001600160a01b038416917f2506c43272ded05d095b91dbba876e66e46888157d3e078db5691496e96c5fad919081900360200190a25050565b60046020526000908152604090208054600182015460028301546003909301549192909184565b600654600160a01b900460ff1681565b600154604080516370a0823160e01b815230600482015290516000926001600160a01b0316916370a08231916024808301926020929190829003018186803b158015610acd57600080fd5b505afa158015610ae1573d6000803e3d6000fd5b505050506040513d6020811015610af757600080fd5b5051905090565b6006546001600160a01b03163314610b56576040805162461bcd60e51b815260206004820152601660248201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604482015290519081900360640190fd5b6001600160a01b03821660009081526004602052604090208054821115610bae5760405162461bcd60e51b815260040180806020018281038252602781526020018061188e6027913960400191505060405180910390fd5b60008160020154600014610bc6578160020154610bca565b6000545b4281016003840155600183018490556040805185815290519192506001600160a01b038616917fc8305077b495025ec4c1d977b176a762c350bb18cad4666ce1ee85c32b78698a9181900360200190a250505050565b7fe95f353750f192082df064ca5142d3a2d6f0bef0f3ffad66d80d8af86b7a749a81565b6000610c5a600554610c54610a82565b90611306565b905090565b7fc2f8787176b8ac6bf7215b4adcc1e069bf4ab82d9ab1df05a57a91d425935b6e81565b6001600160a01b038116600090815260046020526040812054610cae90610ca8610c44565b906112a5565b92915050565b6006546001600160a01b03163314610d0c576040805162461bcd60e51b815260206004820152601660248201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604482015290519081900360640190fd5b610d20610d1a308585611348565b82611243565b6001600160a01b0316836001600160a01b031614610d6f5760405162461bcd60e51b81526004018080602001828103825260298152602001806118656029913960400191505060405180910390fd5b6001600160a01b038316600081815260046020908152604091829020600201859055815185815291517f7b816003a769eb718bd9c66bdbd2dd5827da3f92bc6645276876bd7957b08cf09281900390910190a2505050565b60055481565b6001546001600160a01b031681565b6006546001600160a01b03163314610e4857610dfc610d1a3087866113b1565b6006546001600160a01b03908116911614610e485760405162461bcd60e51b81526004018080602001828103825260248152602001806118b56024913960400191505060405180910390fd5b6001600160a01b038516600090815260026020526040812054610e6c908590611306565b90506000610e8282610e7d89610c83565b61141a565b6001600160a01b03881660009081526004602052604081205491925090610eaa90839061141a565b905084821015610f01576040805162461bcd60e51b815260206004820152601d60248201527f53696d706c65537761703a2063616e6e6f74207061792063616c6c6572000000604482015290519081900360640190fd5b8015610f54576001600160a01b038816600090815260046020526040902054610f2a9082611306565b6001600160a01b038916600090815260046020526040902055600554610f509082611306565b6005555b6001600160a01b038816600090815260026020526040902054610f7790836112a5565b6001600160a01b038916600090815260026020526040902055600354610f9d90836112a5565b6003556001546001600160a01b031663a9059cbb88610fbc8589611306565b6040518363ffffffff1660e01b815260040180836001600160a01b0316815260200182815260200192505050602060405180830381600087803b15801561100257600080fd5b505af1158015611016573d6000803e3d6000fd5b505050506040513d602081101561102c57600080fd5b50516110695760405162461bcd60e51b815260040180806020018281038252602781526020018061183e6027913960400191505060405180910390fd5b841561112a576001546040805163a9059cbb60e01b81523360048201526024810188905290516001600160a01b039092169163a9059cbb916044808201926020929091908290030181600087803b1580156110c357600080fd5b505af11580156110d7573d6000803e3d6000fd5b505050506040513d60208110156110ed57600080fd5b505161112a5760405162461bcd60e51b815260040180806020018281038252602781526020018061183e6027913960400191505060405180910390fd5b6040805183815260208101889052808201879052905133916001600160a01b038a811692908c16917f950494fc3642fae5221b6c32e0e45765c95ebb382a04a71b160db0843e74c99f919081900360600190a48183146111c1576006805460ff60a01b1916600160a01b1790556040517f3f4449c047e11092ec54dc0751b6b4817a9162745de856c893a26e611d18ffc490600090a15b5050505050505050565b604080517f7d824962dd0f01520922ea1766c987b1db570cd5db90bdba5ccf5e32060795026020808301919091526001600160a01b0397881682840152958716606082015260808101949094529190941660a083015260c0808301949094528051808303909401845260e09091019052815191012090565b600080611256611251611430565b61148a565b84604051602001808061190160f01b8152506002018381526020018281526020019250505060405160208183030381529060405280519060200120905061129d81846114fd565b949350505050565b6000828201838110156112ff576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b60006112ff83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f7700008152506116e8565b604080517fe95f353750f192082df064ca5142d3a2d6f0bef0f3ffad66d80d8af86b7a749a6020808301919091526001600160a01b03958616828401529390941660608501526080808501929092528051808503909201825260a0909301909252815191012090565b604080517f48ebe6deff4a5ee645c01506a026031e2a945d6f41f1f4e5098ad65347492c126020808301919091526001600160a01b03958616828401529390941660608501526080808501929092528051808503909201825260a0909301909252815191012090565b600081831061142957816112ff565b5090919050565b61143861177f565b506040805160a081018252600a6060820190815269436865717565626f6f6b60b01b608083015281528151808301835260038152620312e360ec1b602082810191909152820152469181019190915290565b805180516020918201208183015180519083012060409384015184517fc2f8787176b8ac6bf7215b4adcc1e069bf4ab82d9ab1df05a57a91d425935b6e818601528086019390935260608301919091526080808301919091528351808303909101815260a0909101909252815191012090565b60008151604114611555576040805162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e67746800604482015290519081900360640190fd5b60208201516040830151606084015160001a7f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08211156115c65760405162461bcd60e51b81526004018080602001828103825260228152602001806117d56022913960400191505060405180910390fd5b8060ff16601b141580156115de57508060ff16601c14155b1561161a5760405162461bcd60e51b81526004018080602001828103825260228152602001806117f76022913960400191505060405180910390fd5b600060018783868660405160008152602001604052604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051602081039080840390855afa158015611676573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166116de576040805162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e61747572650000000000000000604482015290519081900360640190fd5b9695505050505050565b600081848411156117775760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561173c578181015183820152602001611724565b50505050905090810190601f1680156117695780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b6040518060600160405280606081526020016060815260200160008152509056fe53696d706c65537761703a2068617264206465706f7369742063616e6e6f74206265206d6f7265207468616e2062616c616e636545434453413a20696e76616c6964207369676e6174757265202773272076616c756545434453413a20696e76616c6964207369676e6174757265202776272076616c756553696d706c65537761703a206465706f736974206e6f74207965742074696d6564206f757453696d706c65537761703a2053696d706c65537761703a207472616e73666572206661696c656453696d706c65537761703a20696e76616c69642062656e6566696369617279207369676e617475726553696d706c65537761703a2068617264206465706f736974206e6f742073756666696369656e7453696d706c65537761703a20696e76616c696420697373756572207369676e617475726553696d706c65537761703a206c697175696442616c616e6365206e6f742073756666696369656e74a2646970667358221220e966e3935e65edd1eee5f40a145487964af1fa6f0f5e354d400ee94b6a207d1364736f6c634300060c0033a264697066735822122049e3e76706404d752db8abe986ff6e887ddc5113cd62647fee1728e5ca5a53b064736f6c634300060c0033__TOKEN_ADDRESS__

FACTORY_BIN=0x608060405234801561001057600080fd5b50604051611df2380380611df283398101604081905261002f91610112565b600180546001600160a01b0319166001600160a01b03831617905560405160009061005990610105565b604051809103906000f080158015610075573d6000803e3d6000fd5b506040516343431f6360e11b81529091506001600160a01b038216906386863ec6906100ab906001906000908190600401610140565b600060405180830381600087803b1580156100c557600080fd5b505af11580156100d9573d6000803e3d6000fd5b5050600280546001600160a01b0319166001600160a01b03949094169390931790925550610164915050565b6118e58061050d83390190565b600060208284031215610123578081fd5b81516001600160a01b0381168114610139578182fd5b9392505050565b6001600160a01b039384168152919092166020820152604081019190915260600190565b61039a806101736000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c806315efd8a714610051578063a6021ace1461007a578063c70242ad14610082578063ee97f7f3146100a2575b600080fd5b61006461005f3660046102d6565b6100aa565b6040516100719190610308565b60405180910390f35b6100646101bb565b6100956100903660046102b5565b6101ca565b6040516100719190610359565b6100646101df565b60025460405160009182916100ee916001600160a01b0316906100d3903390879060200161031c565b604051602081830303815290604052805190602001206101ee565b6001546040516343431f6360e11b81529192506001600160a01b03808416926386863ec692610126928a929116908990600401610335565b600060405180830381600087803b15801561014057600080fd5b505af1158015610154573d6000803e3d6000fd5b5050506001600160a01b03821660009081526020819052604090819020805460ff19166001179055517fc0ffc525a1c7689549d7f79b49eca900e61ac49b43d977f680bcc3b36224c00491506101ab908390610308565b60405180910390a1949350505050565b6001546001600160a01b031681565b60006020819052908152604090205460ff1681565b6002546001600160a01b031681565b6000604051733d602d80600a3d3981f3363d3d373d3d3d363d7360601b81528360601b60148201526e5af43d82803e903d91602b57fd5bf360881b6028820152826037826000f59150506001600160a01b038116610293576040805162461bcd60e51b815260206004820152601760248201527f455243313136373a2063726561746532206661696c6564000000000000000000604482015290519081900360640190fd5b92915050565b80356001600160a01b03811681146102b057600080fd5b919050565b6000602082840312156102c6578081fd5b6102cf82610299565b9392505050565b6000806000606084860312156102ea578182fd5b6102f384610299565b95602085013595506040909401359392505050565b6001600160a01b0391909116815260200190565b6001600160a01b03929092168252602082015260400190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b90151581526020019056fea2646970667358221220186c321a2442413d58858aac3960b8440cb5e558ae8361aefefac6b31923710564736f6c63430007060033608060405234801561001057600080fd5b506118c5806100206000396000f3fe608060405234801561001057600080fd5b506004361061014d5760003560e01c8063946f46a2116100c3578063b7ec1a331161007c578063b7ec1a331461027f578063c49f91d314610287578063c76a4d311461028f578063d4c9a8e8146102a2578063e0bcf13a146102b5578063fc0c546a146102bd5761014d565b8063946f46a214610211578063b6343b0d14610224578063b648b41714610247578063b69ef8a81461025c578063b777035014610264578063b7998907146102775761014d565b80631d143848116101155780631d143848146101a85780632e1a7d4d146101bd578063338f3fed146101d0578063488b017c146101e357806381f03fcb146101eb57806386863ec6146101fe5761014d565b80630d5f26591461015257806312101021146101675780631357e1dc1461018557806315c3343f1461018d5780631633fb1d14610195575b600080fd5b61016561016036600461146b565b6102c5565b005b61016f6102d8565b60405161017c9190611563565b60405180910390f35b61016f6102de565b61016f6102e4565b6101656101a33660046113ae565b610308565b6101b061036c565b60405161017c919061152b565b6101656101cb3660046114e0565b61037b565b6101656101de366004611442565b610473565b61016f610556565b61016f6101f9366004611359565b61057a565b61016561020c366004611373565b61058c565b61016561021f366004611359565b610610565b610237610232366004611359565b6106d0565b60405161017c94939291906115c7565b61024f6106f7565b60405161017c9190611558565b61016f610707565b610165610272366004611442565b61078d565b61016f610867565b61016f61088b565b61016f6108a1565b61016f61029d366004611359565b6108c5565b6101656102b036600461146b565b6108f8565b61016f6109b4565b6101b06109ba565b6102d33384846000856109c9565b505050565b60005481565b60035481565b7f48ebe6deff4a5ee645c01506a026031e2a945d6f41f1f4e5098ad65347492c1281565b61031e6103183033878987610dd2565b84610e30565b6001600160a01b0316866001600160a01b0316146103575760405162461bcd60e51b815260040161034e906117d5565b60405180910390fd5b61036486868685856109c9565b505050505050565b6006546001600160a01b031681565b6006546001600160a01b031633146103a55760405162461bcd60e51b815260040161034e906115e2565b6103ad61088b565b8111156103cc5760405162461bcd60e51b815260040161034e90611695565b60015460065460405163a9059cbb60e01b81526001600160a01b039283169263a9059cbb9261040292911690859060040161153f565b602060405180830381600087803b15801561041c57600080fd5b505af1158015610430573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061045491906114c0565b6104705760405162461bcd60e51b815260040161034e9061180c565b50565b6006546001600160a01b0316331461049d5760405162461bcd60e51b815260040161034e90611665565b6104a5610707565b6005546104b29083610e7f565b11156104d05760405162461bcd60e51b815260040161034e90611730565b6001600160a01b038216600090815260046020526040902080546104f49083610e7f565b81556005546105039083610e7f565b6005556000600382015580546040516001600160a01b038516917f2506c43272ded05d095b91dbba876e66e46888157d3e078db5691496e96c5fad916105499190611563565b60405180910390a2505050565b7f7d824962dd0f01520922ea1766c987b1db570cd5db90bdba5ccf5e320607950281565b60026020526000908152604090205481565b6001600160a01b0383166105b25760405162461bcd60e51b815260040161034e9061163d565b6006546001600160a01b0316156105db5760405162461bcd60e51b815260040161034e906116cc565b600680546001600160a01b039485166001600160a01b0319918216179091556001805493909416921691909117909155600055565b6001600160a01b03811660009081526004602052604090206003810154421080159061063f5750600381015415155b61065b5760405162461bcd60e51b815260040161034e90611606565b6001810154815461066b91610ee0565b815560006003820155600181015460055461068591610ee0565b60055580546040516001600160a01b038416917f2506c43272ded05d095b91dbba876e66e46888157d3e078db5691496e96c5fad916106c49190611563565b60405180910390a25050565b60046020526000908152604090208054600182015460028301546003909301549192909184565b600654600160a01b900460ff1681565b6001546040516370a0823160e01b81526000916001600160a01b0316906370a082319061073890309060040161152b565b60206040518083038186803b15801561075057600080fd5b505afa158015610764573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061078891906114f8565b905090565b6006546001600160a01b031633146107b75760405162461bcd60e51b815260040161034e90611665565b6001600160a01b038216600090815260046020526040902080548211156107f05760405162461bcd60e51b815260040161034e906116f9565b6000816002015460001461080857816002015461080c565b6000545b4281016003840155600183018490556040519091506001600160a01b038516907fc8305077b495025ec4c1d977b176a762c350bb18cad4666ce1ee85c32b78698a90610859908690611563565b60405180910390a250505050565b7fe95f353750f192082df064ca5142d3a2d6f0bef0f3ffad66d80d8af86b7a749a81565b600061078860055461089b610707565b90610ee0565b7fc2f8787176b8ac6bf7215b4adcc1e069bf4ab82d9ab1df05a57a91d425935b6e81565b6001600160a01b0381166000908152600460205260408120546108f0906108ea61088b565b90610e7f565b90505b919050565b6006546001600160a01b031633146109225760405162461bcd60e51b815260040161034e906115e2565b610936610930308585610f3d565b82610e30565b6001600160a01b0316836001600160a01b0316146109665760405162461bcd60e51b815260040161034e906117d5565b6001600160a01b03831660008181526004602052604090819020600201849055517f7b816003a769eb718bd9c66bdbd2dd5827da3f92bc6645276876bd7957b08cf090610549908590611563565b60055481565b6001546001600160a01b031681565b6006546001600160a01b03163314610a16576109e9610930308786610f95565b6006546001600160a01b03908116911614610a165760405162461bcd60e51b815260040161034e9061179e565b6001600160a01b038516600090815260026020526040812054610a3a908590610ee0565b90506000610a5082610a4b896108c5565b610fce565b6001600160a01b03881660009081526004602052604081205491925090610a78908390610fce565b905084821015610a9a5760405162461bcd60e51b815260040161034e90611767565b8015610aed576001600160a01b038816600090815260046020526040902054610ac39082610ee0565b6001600160a01b038916600090815260046020526040902055600554610ae99082610ee0565b6005555b6001600160a01b038816600090815260026020526040902054610b109083610e7f565b6001600160a01b038916600090815260026020526040902055600354610b369083610e7f565b600355828214610b7d576006805460ff60a01b1916600160a01b1790556040517f3f4449c047e11092ec54dc0751b6b4817a9162745de856c893a26e611d18ffc490600090a15b8415610ccf5760015460405163a9059cbb60e01b81526001600160a01b039091169063a9059cbb90610bb5903390899060040161153f565b602060405180830381600087803b158015610bcf57600080fd5b505af1158015610be3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c0791906114c0565b610c235760405162461bcd60e51b815260040161034e9061180c565b6001546001600160a01b031663a9059cbb88610c3f8589610ee0565b6040518363ffffffff1660e01b8152600401610c5c92919061153f565b602060405180830381600087803b158015610c7657600080fd5b505af1158015610c8a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610cae91906114c0565b610cca5760405162461bcd60e51b815260040161034e9061180c565b610d6f565b60015460405163a9059cbb60e01b81526001600160a01b039091169063a9059cbb90610d01908a90869060040161153f565b602060405180830381600087803b158015610d1b57600080fd5b505af1158015610d2f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d5391906114c0565b610d6f5760405162461bcd60e51b815260040161034e9061180c565b336001600160a01b0316876001600160a01b0316896001600160a01b03167f950494fc3642fae5221b6c32e0e45765c95ebb382a04a71b160db0843e74c99f858a8a604051610dc093929190611835565b60405180910390a45050505050505050565b60007f7d824962dd0f01520922ea1766c987b1db570cd5db90bdba5ccf5e32060795028686868686604051602001610e0f96959493929190611591565b60405160208183030381529060405280519060200120905095945050505050565b600080610e43610e3e610fe4565b61103e565b84604051602001610e55929190611510565b604051602081830303815290604052805190602001209050610e7781846110ae565b949350505050565b600082820183811015610ed9576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b600082821115610f37576040805162461bcd60e51b815260206004820152601e60248201527f536166654d6174683a207375627472616374696f6e206f766572666c6f770000604482015290519081900360640190fd5b50900390565b60007fe95f353750f192082df064ca5142d3a2d6f0bef0f3ffad66d80d8af86b7a749a848484604051602001610f76949392919061156c565b6040516020818303038152906040528051906020012090509392505050565b60007f48ebe6deff4a5ee645c01506a026031e2a945d6f41f1f4e5098ad65347492c12848484604051602001610f76949392919061156c565b6000818310610fdd5781610ed9565b5090919050565b610fec6112ac565b506040805160a081018252600a6060820190815269436865717565626f6f6b60b01b608083015281528151808301835260038152620312e360ec1b602082810191909152820152469181019190915290565b60007fc2f8787176b8ac6bf7215b4adcc1e069bf4ab82d9ab1df05a57a91d425935b6e826000015180519060200120836020015180519060200120846040015160405160200161109194939291906115c7565b604051602081830303815290604052805190602001209050919050565b60008151604114611106576040805162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e67746800604482015290519081900360640190fd5b60208201516040830151606084015160001a6111248682858561112e565b9695505050505050565b60007f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a082111561118f5760405162461bcd60e51b815260040180806020018281038252602281526020018061184c6022913960400191505060405180910390fd5b8360ff16601b14806111a457508360ff16601c145b6111df5760405162461bcd60e51b815260040180806020018281038252602281526020018061186e6022913960400191505060405180910390fd5b600060018686868660405160008152602001604052604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051602081039080840390855afa15801561123b573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166112a3576040805162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e61747572650000000000000000604482015290519081900360640190fd5b95945050505050565b60405180606001604052806060815260200160608152602001600081525090565b80356001600160a01b03811681146108f357600080fd5b600082601f8301126112f4578081fd5b813567ffffffffffffffff8082111561130957fe5b604051601f8301601f19168101602001828111828210171561132757fe5b60405282815284830160200186101561133e578384fd5b82602086016020830137918201602001929092529392505050565b60006020828403121561136a578081fd5b610ed9826112cd565b600080600060608486031215611387578182fd5b611390846112cd565b925061139e602085016112cd565b9150604084013590509250925092565b60008060008060008060c087890312156113c6578182fd5b6113cf876112cd565b95506113dd602088016112cd565b945060408701359350606087013567ffffffffffffffff80821115611400578384fd5b61140c8a838b016112e4565b94506080890135935060a0890135915080821115611428578283fd5b5061143589828a016112e4565b9150509295509295509295565b60008060408385031215611454578182fd5b61145d836112cd565b946020939093013593505050565b60008060006060848603121561147f578283fd5b611488846112cd565b925060208401359150604084013567ffffffffffffffff8111156114aa578182fd5b6114b6868287016112e4565b9150509250925092565b6000602082840312156114d1578081fd5b81518015158114610ed9578182fd5b6000602082840312156114f1578081fd5b5035919050565b600060208284031215611509578081fd5b5051919050565b61190160f01b81526002810192909252602282015260420190565b6001600160a01b0391909116815260200190565b6001600160a01b03929092168252602082015260400190565b901515815260200190565b90815260200190565b9384526001600160a01b03928316602085015291166040830152606082015260800190565b9586526001600160a01b03948516602087015292841660408601526060850191909152909116608083015260a082015260c00190565b93845260208401929092526040830152606082015260800190565b6020808252600a90820152693737ba1034b9b9bab2b960b11b604082015260600190565b60208082526019908201527f6465706f736974206e6f74207965742074696d6564206f757400000000000000604082015260600190565b6020808252600e908201526d34b73b30b634b21034b9b9bab2b960911b604082015260600190565b60208082526016908201527529b4b6b83632a9bbb0b81d103737ba1034b9b9bab2b960511b604082015260600190565b6020808252601c908201527f6c697175696442616c616e6365206e6f742073756666696369656e7400000000604082015260600190565b602080825260139082015272185b1c9958591e481a5b9a5d1a585b1a5e9959606a1b604082015260600190565b6020808252601b908201527f68617264206465706f736974206e6f742073756666696369656e740000000000604082015260600190565b6020808252601c908201527f68617264206465706f73697420657863656564732062616c616e636500000000604082015260600190565b6020808252601d908201527f53696d706c65537761703a2063616e6e6f74207061792063616c6c6572000000604082015260600190565b60208082526018908201527f696e76616c696420697373756572207369676e61747572650000000000000000604082015260600190565b6020808252601d908201527f696e76616c69642062656e6566696369617279207369676e6174757265000000604082015260600190565b6020808252600f908201526e1d1c985b9cd9995c8819985a5b1959608a1b604082015260600190565b928352602083019190915260408201526060019056fe45434453413a20696e76616c6964207369676e6174757265202773272076616c756545434453413a20696e76616c6964207369676e6174757265202776272076616c7565a26469706673582212202e31e31c7c2744ee68a03ed443217b2f9f1a54bafefbc8c8e911e1d5cc01ec0864736f6c63430007060033__TOKEN_ADDRESS__

TOKEN_MINT_DATA=0x40c10f19__RECIPIENT____AMOUNT__

POSTAGE_STAMP_BIN=0x608060405234801561001057600080fd5b50600436106102275760003560e01c8063711bfa2b11610130578063b67644b9116100b8578063e63ab1e91161007c578063e63ab1e914610520578063ea612e1f14610547578063f2a75fe414610550578063f7b188a514610558578063f90ce5ba1461056057600080fd5b8063b67644b914610446578063b998902f14610459578063c81e25ab14610480578063d547741f146104fa578063d71ba7c41461050d57600080fd5b806391b7f5ed116100ff57806391b7f5ed146103de57806391d14854146103f15780639917644714610404578063a217fddf14610417578063a6471a1d1461041f57600080fd5b8063711bfa2b146103bd5780638456cb59146103c55780638a5e8e32146103cd5780638b82547f146103d657600080fd5b8063420fc4db116101b357806351b17cd01161018257806351b17cd01461037157806351cff8d9146103795780635239af711461038c5780635c975abb1461039f578063628de877146103aa57600080fd5b8063420fc4db1461031757806347aab79b146103425780634b410f1f146103555780634ba2363a1461036857600080fd5b806318c8572f116101fa57806318c8572f146102b1578063248a9ca3146102c657806324b570a9146102e95780632f2ff15d146102f157806336568abe1461030457600080fd5b806301ffc9a71461022c5780630392723514610254578063053f14da146102735780630ce72c181461028a575b600080fd5b61023f61023a3660046131d1565b610569565b60405190151581526020015b60405180910390f35b6007546102619060ff1681565b60405160ff909116815260200161024b565b61027c600a5481565b60405190815260200161024b565b61027c7fd73e46f8c7bd351d2c14e16efde573a514a9ba57c6a82aebf13a8376f9f0e6ca81565b6102c46102bf3660046130c0565b6105a0565b005b61027c6102d4366004613147565b60009081526020819052604090206001015490565b61027c610914565b6102c46102ff366004613160565b6109b8565b6102c4610312366004613160565b6109e2565b60055461032a906001600160a01b031681565b6040516001600160a01b03909116815260200161024b565b6102c46103503660046131ae565b610a60565b6102c4610363366004613214565b610ce0565b61027c60095481565b61027c610d82565b6102c46103873660046130a5565b610dbc565b6102c461039a3660046130c0565b610f08565b60015460ff1661023f565b6102c46103b8366004613147565b61127e565b61023f6113bf565b6102c46113e8565b61027c60085481565b61027c611460565b6102c46103ec366004613147565b611489565b61023f6103ff366004613160565b61155e565b6102c4610412366004613147565b611587565b61027c600081565b61027c7f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb082881565b6102c461045436600461318c565b611643565b61027c7fdd24a0f121e5ab7c3e97c63eaaf859e0b46792c3e0edfd86e2b3ad50f63011d881565b6104c861048e366004613147565b600260205260009081526040902080546001909101546001600160a01b0382169160ff600160a01b8204811692600160a81b909204169084565b604080516001600160a01b03909516855260ff909316602085015290151591830191909152606082015260800161024b565b6102c4610508366004613160565b6118a0565b61027c61051b366004613147565b6118c5565b61027c7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a81565b61027c600c5481565b61023f61195a565b6102c461196c565b61027c600b5481565b60006001600160e01b03198216637965db0b60e01b148061059a57506301ffc9a760e01b6001600160e01b03198316145b92915050565b6105a86119ea565b6105b360003361155e565b6106135760405162461bcd60e51b815260206004820152602660248201527f6f6e6c792061646d696e6973747261746f722063616e2075736520636f7079206044820152651b595d1a1bd960d21b60648201526084015b60405180910390fd5b6001600160a01b0386166106695760405162461bcd60e51b815260206004820181905260248201527f6f776e65722063616e6e6f7420626520746865207a65726f2061646472657373604482015260640161060a565b60ff83161580159061068057508360ff168360ff16105b6106c35760405162461bcd60e51b81526020600482015260146024820152730d2dcecc2d8d2c840c4eac6d6cae840c8cae0e8d60631b604482015260640161060a565b6000828152600260205260409020546001600160a01b03161561071f5760405162461bcd60e51b8152602060048201526014602482015273626174636820616c72656164792065786973747360601b604482015260640161060a565b6000610731600160ff87161b87613397565b6005546040516323b872dd60e01b81529192506001600160a01b0316906323b872dd90610766903390309086906004016132a4565b602060405180830381600087803b15801561078057600080fd5b505af1158015610794573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107b8919061312a565b6107d45760405162461bcd60e51b815260040161060a906132fb565b6000866107df610d82565b6107e9919061335d565b604080516080810182526001600160a01b03808c16825260ff808b1660208085019182528915158587019081526060860188815260008d815260029093529690912094518554925191511515600160a81b0260ff60a81b1992909416600160a01b026001600160a81b0319909316941693909317179190911617815590516001909101559050806108bc5760405162461bcd60e51b815260206004820181905260248201527f6e6f726d616c6973656442616c616e63652063616e6e6f74206265207a65726f604482015260640161060a565b6108c860038583611a30565b837f9b088e2c89b322a3c1d81515e1c88db3d386d022926f0e2d0b9b5813b7413d5883838b8a8a8960405161090296959493929190613324565b60405180910390a25050505050505050565b600061092160001961127e565b6005546040516370a0823160e01b81523060048201526000916001600160a01b0316906370a082319060240160206040518083038186803b15801561096557600080fd5b505afa158015610979573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061099d91906131fb565b905080600954106109ae57806109b2565b6009545b91505090565b6000828152602081905260409020600101546109d381611cdd565b6109dd8383611cea565b505050565b6001600160a01b0381163314610a525760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201526e103937b632b9903337b91039b2b63360891b606482015260840161060a565b610a5c8282611d6e565b5050565b610a686119ea565b600082815260026020526040902080546001600160a01b03163314610ac15760405162461bcd60e51b815260206004820152600f60248201526e3737ba103130ba31b41037bbb732b960891b604482015260640161060a565b8054600160a81b900460ff1615610b0f5760405162461bcd60e51b8152602060048201526012602482015271626174636820697320696d6d757461626c6560701b604482015260640161060a565b805460ff600160a01b9091048116908316118015610b35575060075460ff908116908316115b610b785760405162461bcd60e51b81526020600482015260146024820152736465707468206e6f7420696e6372656173696e6760601b604482015260640161060a565b610b80610d82565b816001015411610bca5760405162461bcd60e51b815260206004820152601560248201527418985d18da08185b1c9958591e48195e1c1a5c9959605a1b604482015260640161060a565b8054600090610be390600160a01b900460ff16846133cd565b90506000600160ff83161b610bf7866118c5565b610c019190613375565b9050610c0e60001961127e565b8254610c2e90600160ff600160a01b909204821681901b9187161b6133b6565b60086000828254610c3f919061335d565b90915550506001830154610c57906003908790611dd3565b825460ff60a01b1916600160a01b60ff86160217835580610c76610d82565b610c80919061335d565b60018401819055610c95906003908790611a30565b60018301546040805160ff87168152602081019290925286917faf27998ec15e9d3809edad41aec1b5551d8412e71bd07c91611a0237ead1dc8e910160405180910390a25050505050565b610d0a7fd73e46f8c7bd351d2c14e16efde573a514a9ba57c6a82aebf13a8376f9f0e6ca3361155e565b610d6c5760405162461bcd60e51b815260206004820152602d60248201527f6f6e6c79206465707468206f7261636c652063616e20736574206d696e696d7560448201526c0da40c4c2e8c6d040c8cae0e8d609b1b606482015260840161060a565b6007805460ff191660ff92909216919091179055565b600080600b5443610d9391906133b6565b9050600081600a54610da59190613397565b905080600654610db5919061335d565b9250505090565b610de67f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb08283361155e565b610e4c5760405162461bcd60e51b815260206004820152603160248201527f6f6e6c792072656469737472696275746f722063616e20776974686472617720604482015270199c9bdb481d1a194818dbdb9d1c9858dd607a1b606482015260840161060a565b6005546001600160a01b031663a9059cbb82610e66610914565b6040516001600160e01b031960e085901b1681526001600160a01b0390921660048301526024820152604401602060405180830381600087803b158015610eac57600080fd5b505af1158015610ec0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ee4919061312a565b610f005760405162461bcd60e51b815260040161060a906132fb565b506000600955565b610f106119ea565b6001600160a01b038616610f665760405162461bcd60e51b815260206004820181905260248201527f6f776e65722063616e6e6f7420626520746865207a65726f2061646472657373604482015260640161060a565b60ff831615801590610f7d57508360ff168360ff16105b8015610f91575060075460ff808516911611155b610fd45760405162461bcd60e51b81526020600482015260146024820152730d2dcecc2d8d2c840c4eac6d6cae840c8cae0e8d60631b604482015260640161060a565b6040805133602082015290810183905260009060600160408051601f198184030181529181528151602092830120600081815260029093529120549091506001600160a01b03161561105f5760405162461bcd60e51b8152602060048201526014602482015273626174636820616c72656164792065786973747360601b604482015260640161060a565b6000611071600160ff88161b88613397565b6005546040516323b872dd60e01b81529192506001600160a01b0316906323b872dd906110a6903390309086906004016132a4565b602060405180830381600087803b1580156110c057600080fd5b505af11580156110d4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110f8919061312a565b6111145760405162461bcd60e51b815260040161060a906132fb565b60008761111f610d82565b611129919061335d565b905061113660001961127e565b8660ff166001901b6008600082825461114f919061335d565b9091555050604080516080810182526001600160a01b03808c16825260ff808b1660208085019182528915158587019081526060860188815260008b815260029093529690912094518554925191511515600160a81b0260ff60a81b1992909416600160a01b026001600160a81b031990931694169390931717919091161781559051600190910155806112255760405162461bcd60e51b815260206004820181905260248201527f6e6f726d616c6973656442616c616e63652063616e6e6f74206265207a65726f604482015260640161060a565b61123160038483611a30565b827f9b088e2c89b322a3c1d81515e1c88db3d386d022926f0e2d0b9b5813b7413d5883838c8b8b8a60405161126b96959493929190613324565b60405180910390a2505050505050505050565b600c5460005b828110156113895761129461195a565b156112a9576112a1610d82565b600c55611389565b60006112b3611460565b905060006112c0826118c5565b11156112d7576112ce610d82565b600c5550611389565b600081815260026020526040812080546008805492936001600160a01b90930460ff169290921b9283929061130d9084906133b6565b909155505060018201546113229086906133b6565b61132c9082613397565b6009600082825461133d919061335d565b90915550506001820154611355906003908590611dd3565b5050600090815260026020526040812080546001600160b01b0319168155600101558061138181613433565b915050611284565b81600c5461139791906133b6565b6008546113a49190613397565b600960008282546113b5919061335d565b9091555050505050565b60006113c961195a565b156113d45750600090565b60006113e161051b611460565b1115905090565b6114127f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a3361155e565b6114565760405162461bcd60e51b81526020600482015260156024820152746f6e6c79207061757365722063616e20706175736560581b604482015260640161060a565b61145e6121d0565b565b60008061146d6003612224565b90506000811161147c57600080fd5b6109b2600382600061226b565b6114b37fdd24a0f121e5ab7c3e97c63eaaf859e0b46792c3e0edfd86e2b3ad50f63011d83361155e565b61150b5760405162461bcd60e51b815260206004820152602360248201527f6f6e6c79207072696365206f7261636c652063616e207365742074686520707260448201526269636560e81b606482015260840161060a565b600a541561151f5761151b610d82565b6006555b600a81905543600b556040518181527fae46785019700e30375a5d7b4f91e32f8060ef085111f896ebf889450aa2ab5a9060200160405180910390a150565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b6005546040516323b872dd60e01b81526001600160a01b03909116906323b872dd906115bb903390309086906004016132a4565b602060405180830381600087803b1580156115d557600080fd5b505af11580156115e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061160d919061312a565b6116295760405162461bcd60e51b815260040161060a906132fb565b806009600082825461163b919061335d565b909155505050565b61164b6119ea565b600082815260026020526040902080546001600160a01b03166116a75760405162461bcd60e51b815260206004820152601460248201527318985d18da08191bd95cc81b9bdd08195e1a5cdd60621b604482015260640161060a565b6116af610d82565b8160010154116116f95760405162461bcd60e51b815260206004820152601560248201527418985d18da08185b1c9958591e48195e1c1a5c9959605a1b604482015260640161060a565b600754815460ff918216600160a01b9091049091161161175b5760405162461bcd60e51b815260206004820152601860248201527f626174636820746f6f20736d616c6c20746f2072656e65770000000000000000604482015260640161060a565b8054600090611778906001600160a01b90910460ff161b84613397565b6005546040516323b872dd60e01b81529192506001600160a01b0316906323b872dd906117ad903390309086906004016132a4565b602060405180830381600087803b1580156117c757600080fd5b505af11580156117db573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117ff919061312a565b61181b5760405162461bcd60e51b815260040161060a906132fb565b600182015461182e906003908690611dd3565b82826001015461183e919061335d565b60018301819055611853906003908690611a30565b837faf5756c62d6c0722ef9be1f82bef97ab06ea5aea7f3eb8ad348422079f01d88d828460010154604051611892929190918252602082015260400190565b60405180910390a250505050565b6000828152602081905260409020600101546118bb81611cdd565b6109dd8383611d6e565b600081815260026020526040812080546001600160a01b03166119215760405162461bcd60e51b815260206004820152601460248201527318985d18da08191bd95cc81b9bdd08195e1a5cdd60621b604482015260640161060a565b611929610d82565b81600101541161193c5750600092915050565b611944610d82565b816001015461195391906133b6565b9392505050565b60006119666003612315565b15919050565b6119967f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a3361155e565b6119e25760405162461bcd60e51b815260206004820152601760248201527f6f6e6c79207061757365722063616e20756e7061757365000000000000000000604482015260640161060a565b61145e612325565b60015460ff161561145e5760405162461bcd60e51b815260206004820152601060248201526f14185d5cd8589b194e881c185d5cd95960821b604482015260640161060a565b80611aa35760405162461bcd60e51b815260206004820152603960248201527f4f7264657253746174697374696373547265652834303529202d2056616c756560448201527f20746f20696e736572742063616e6e6f74206265207a65726f00000000000000606482015260840161060a565b611aae83838361235e565b15611b395760405162461bcd60e51b815260206004820152604f60248201527f4f7264657253746174697374696373547265652834303629202d2056616c756560448201527f20616e64204b65792070616972206578697374732e2043616e6e6f742062652060648201526e34b739b2b93a32b21030b3b0b4b71760891b608482015260a40161060a565b82546000905b8015611c1e5780915080831015611b69576000908152600180860160205260409091200154611bf5565b80831115611b8a576000908152600185016020526040902060020154611bf5565b80831415611bf5576000818152600180870160209081526040832060040180548084018255818552918420909101879055918390529054611bcb91906133b6565b60009182526001909501602090815260408083209583526005909501905292909220929092555050565b60008281526001860160205260408120600601805491611c1483613433565b9190505550611b3f565b600083815260018087016020908152604083208581558083018490556002810184905560038101805460ff1916841790556004810180548085018255818652929094209091018790559154611c7391906133b6565b600086815260058301602052604090205582611c9157838655611ccb565b82841015611cb45760008381526001808801602052604090912001849055611ccb565b600083815260018701602052604090206002018490555b611cd586856123c4565b505050505050565b611ce7813361262f565b50565b611cf4828261155e565b610a5c576000828152602081815260408083206001600160a01b03851684529091529020805460ff19166001179055611d2a3390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b611d78828261155e565b15610a5c576000828152602081815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b80611e465760405162461bcd60e51b815260206004820152603960248201527f4f7264657253746174697374696373547265652834303729202d2056616c756560448201527f20746f2064656c6574652063616e6e6f74206265207a65726f00000000000000606482015260840161060a565b611e5183838361235e565b611ec35760405162461bcd60e51b815260206004820152603a60248201527f4f7264657253746174697374696373547265652834303829202d2056616c756560448201527f20746f2064656c65746520646f6573206e6f742065786973742e000000000000606482015260840161060a565b6000818152600180850160209081526040808420868552600581019092528320546004820180549294919391929091611efb916133b6565b81548110611f0b57611f0b61347a565b9060005260206000200154905080836004018381548110611f2e57611f2e61347a565b6000918252602080832090910192909255828152600585019091526040902082905560048301805480611f6357611f63613464565b600190038181906000526020600020016000905590556000808460040180549050600014156121c65760008681526001808a01602052604090912001541580611fbd57506000868152600189016020526040902060020154155b15611fc9575084612011565b5060008581526001880160205260409020600201545b60008181526001808a016020526040909120015415612011576000908152600180890160205260409091200154611fdf565b60008181526001808a0160205260409091200154156120455760008181526001808a0160205260409091200154915061205c565b600081815260018901602052604090206002015491505b600081815260018901602052604080822054848352912081905580156120cd5760008181526001808b01602052604090912001548214156120b25760008181526001808b016020526040909120018390556120d1565b600081815260018a01602052604090206002018390556120d1565b8289555b600082815260018a01602052604090206003015460ff1615878314612164576120fb8a848a612693565b600088815260018b8101602052604080832080830154878552828520938401819055845281842087905560028082015490840181905584529083208690556003908101549286905201805460ff191660ff90921615159190911790559196916121648a8961270d565b8015612174576121748a8561277a565b61217e8a8361270d565b60008381526001808c01602052604082208281559081018290556002810182905560038101805460ff19169055906121b9600483018261304b565b6006820160009055505050505b5050505050505050565b6121d86119ea565b6001805460ff1916811790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258335b6040516001600160a01b03909116815260200160405180910390a1565b80548061223357506000919050565b5b600081815260018084016020526040909120015415612266576000908152600180830160205260409091200154612234565b919050565b60006122778484612b94565b6122dc5760405162461bcd60e51b815260206004820152603060248201527f4f7264657253746174697374696373547265652834303429202d2056616c756560448201526f103237b2b9903737ba1032bc34b9ba1760811b606482015260840161060a565b600083815260018501602052604090206004018054839081106123015761230161347a565b906000526020600020015490509392505050565b600061059a828360000154612bdb565b61232d612c07565b6001805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa33612207565b600061236a8483612b94565b61237657506000611953565b6000828152600185016020908152604080832086845260058101909252909120546004909101805485929081106123af576123af61347a565b90600052602060002001541490509392505050565b60005b825482148015906123f15750600082815260018401602052604080822054825290206003015460ff165b1561260d5760008281526001808501602052604080832054808452818420548452922001548114156125145760008181526001850160205260408082205482528082206002015480835291206003015490925060ff161561249a576000818152600180860160205260408083206003808201805460ff19908116909155878652838620820180548216905582548652928520018054909216909217905590829052549250612607565b60008181526001850160205260409020600201548314156124c2578092506124c28484612c50565b50600082815260018085016020526040808320548084528184206003808201805460ff1990811690915582548752938620018054909316909317909155918290525461250f908590612dce565b612607565b6000818152600180860160205260408083205483528083209091015480835291206003015490925060ff1615612592576000818152600180860160205260408083206003808201805460ff19908116909155878652838620820180548216905582548652928520018054909216909217905590829052549250612607565b60008181526001808601602052604090912001548314156125ba578092506125ba8484612dce565b50600082815260018085016020526040808320548084528184206003808201805460ff19908116909155825487529386200180549093169093179091559182905254612607908590612c50565b506123c7565b505080546000908152600190910160205260409020600301805460ff19169055565b612639828261155e565b610a5c57612651816001600160a01b03166014612eaf565b61265c836020612eaf565b60405160200161266d92919061322f565b60408051601f198184030181529082905262461bcd60e51b825261060a916004016132c8565b6000818152600184016020526040808220548483529120819055806126ba57828455612707565b60008181526001808601602052604090912001548214156126f05760008181526001808601602052604090912001839055612707565b600081815260018501602052604090206002018390555b50505050565b8015610a5c576000818152600183016020526040902060020154612732908390612bdb565b6000828152600180850160205260409091200154612751908490612bdb565b61275b919061335d565b600091825260018301602052604090912060068101919091555461270d565b60005b825482148015906127a25750600082815260018401602052604090206003015460ff16155b15612b7557600082815260018085016020526040808320548084529220015483141561299e5760008181526001850160205260408082206002015480835291206003015490925060ff1615612846576000828152600180860160205260408083206003908101805460ff1990811690915585855291909320909201805490921617905561282f8482612c50565b600081815260018501602052604090206002015491505b60008281526001808601602052604080832090910154825290206003015460ff161580156128915750600082815260018501602052604080822060020154825290206003015460ff16155b156128be57600082815260018581016020526040909120600301805460ff19169091179055915081612b6f565b600082815260018501602052604080822060020154825290206003015460ff1661293b576000828152600180860160205260408083208083015484529083206003908101805460ff19908116909155938690520180549092161790556129248483612dce565b600081815260018501602052604090206002015491505b600081815260018501602052604080822060039081018054868552838520808401805460ff909316151560ff1993841617905582548216909255600290910154845291909220909101805490911690556129958482612c50565b83549250612b6f565b6000818152600180860160205260408083209091015480835291206003015490925060ff1615612a1d576000828152600180860160205260408083206003908101805460ff19908116909155858552919093209092018054909216179055612a068482612dce565b600081815260018086016020526040909120015491505b600082815260018501602052604080822060020154825290206003015460ff16158015612a68575060008281526001808601602052604080832090910154825290206003015460ff16155b15612a9557600082815260018581016020526040909120600301805460ff19169091179055915081612b6f565b60008281526001808601602052604080832090910154825290206003015460ff16612b1457600082815260018086016020526040808320600281015484529083206003908101805460ff1990811690915593869052018054909216179055612afd8483612c50565b600081815260018086016020526040909120015491505b60008181526001808601602052604080832060039081018054878652838620808401805460ff909316151560ff19938416179055825482169092559301548452922090910180549091169055612b6a8482612dce565b835492505b5061277d565b506000908152600190910160205260409020600301805460ff19169055565b600081612ba35750600061059a565b8254821415612bb45750600161059a565b600082815260018401602052604090205415612bd25750600161059a565b50600092915050565b6000818152600183016020526040812060068101546004820154612bff919061335d565b949350505050565b60015460ff1661145e5760405162461bcd60e51b815260206004820152601460248201527314185d5cd8589b194e881b9bdd081c185d5cd95960621b604482015260640161060a565b600081815260018084016020526040808320600281018054915482865292852090930154938590529183905590918015612c9857600081815260018601602052604090208490555b6000838152600186016020526040902082905581612cb857828555612d05565b6000828152600180870160205260409091200154841415612cee5760008281526001808701602052604090912001839055612d05565b600082815260018601602052604090206002018390555b600083815260018087016020526040808320909101869055858252902083815560020154612d34908690612bdb565b6000858152600180880160205260409091200154612d53908790612bdb565b612d5d919061335d565b6000858152600187016020526040808220600601929092558481522060020154612d88908690612bdb565b6000848152600180880160205260409091200154612da7908790612bdb565b612db1919061335d565b600093845260019095016020525050604090206006019190915550565b60008181526001808401602052604080832091820180549254838552918420600201549385905283905590918015612e1457600081815260018601602052604090208490555b6000838152600186016020526040902082905581612e3457828555612e81565b6000828152600186016020526040902060020154841415612e6a5760008281526001860160205260409020600201839055612e81565b600082815260018087016020526040909120018390555b6000838152600186016020526040808220600290810187905586835291208481550154612d34908690612bdb565b60606000612ebe836002613397565b612ec990600261335d565b67ffffffffffffffff811115612ee157612ee1613490565b6040519080825280601f01601f191660200182016040528015612f0b576020820181803683370190505b509050600360fc1b81600081518110612f2657612f2661347a565b60200101906001600160f81b031916908160001a905350600f60fb1b81600181518110612f5557612f5561347a565b60200101906001600160f81b031916908160001a9053506000612f79846002613397565b612f8490600161335d565b90505b6001811115612ffc576f181899199a1a9b1b9c1cb0b131b232b360811b85600f1660108110612fb857612fb861347a565b1a60f81b828281518110612fce57612fce61347a565b60200101906001600160f81b031916908160001a90535060049490941c93612ff58161341c565b9050612f87565b5083156119535760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e74604482015260640161060a565b5080546000825590600052602060002090810190611ce791905b808211156130795760008155600101613065565b5090565b80356001600160a01b038116811461226657600080fd5b803560ff8116811461226657600080fd5b6000602082840312156130b757600080fd5b6119538261307d565b60008060008060008060c087890312156130d957600080fd5b6130e28761307d565b9550602087013594506130f760408801613094565b935061310560608801613094565b92506080870135915060a087013561311c816134a6565b809150509295509295509295565b60006020828403121561313c57600080fd5b8151611953816134a6565b60006020828403121561315957600080fd5b5035919050565b6000806040838503121561317357600080fd5b823591506131836020840161307d565b90509250929050565b6000806040838503121561319f57600080fd5b50508035926020909101359150565b600080604083850312156131c157600080fd5b8235915061318360208401613094565b6000602082840312156131e357600080fd5b81356001600160e01b03198116811461195357600080fd5b60006020828403121561320d57600080fd5b5051919050565b60006020828403121561322657600080fd5b61195382613094565b7f416363657373436f6e74726f6c3a206163636f756e74200000000000000000008152600083516132678160178501602088016133f0565b7001034b99036b4b9b9b4b733903937b6329607d1b60179184019182015283516132988160288401602088016133f0565b01602801949350505050565b6001600160a01b039384168152919092166020820152604081019190915260600190565b60208152600082518060208401526132e78160408501602087016133f0565b601f01601f19169190910160400192915050565b6020808252600f908201526e3330b4b632b2103a3930b739b332b960891b604082015260600190565b95865260208601949094526001600160a01b0392909216604085015260ff9081166060850152166080830152151560a082015260c00190565b600082198211156133705761337061344e565b500190565b60008261339257634e487b7160e01b600052601260045260246000fd5b500490565b60008160001904831182151516156133b1576133b161344e565b500290565b6000828210156133c8576133c861344e565b500390565b600060ff821660ff8416808210156133e7576133e761344e565b90039392505050565b60005b8381101561340b5781810151838201526020016133f3565b838111156127075750506000910152565b60008161342b5761342b61344e565b506000190190565b60006000198214156134475761344761344e565b5060010190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052603160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b8015158114611ce757600080fdfea2646970667358221220d93793c2554434c5cdf72705a3e3a3f70a77bda5dd5c5d51e8cb1cfbd9bbf72564736f6c63430008070033

SWAP_PRICE_ORACLE_BIN=0x608060405234801561001057600080fd5b506040516104b83803806104b883398101604081905261002f9161007e565b600080546001600160a01b031916339081178255604051909182917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a3506001919091556002556100a1565b60008060408385031215610090578182fd5b505080516020909101519092909150565b610408806100b06000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c806398d5fdca1161005b57806398d5fdca146100dd578063a035b1fe146100f8578063dd4899321461010f578063f2fde38b1461011857600080fd5b8063710f2dd11461008d578063715018a6146100a25780638d6cc56d146100aa5780638da5cb5b146100bd575b600080fd5b6100a061009b366004610385565b61012b565b005b6100a061019a565b6100a06100b8366004610385565b61020e565b6000546040516001600160a01b0390911681526020015b60405180910390f35b600154600254604080519283526020830191909152016100d4565b61010160015481565b6040519081526020016100d4565b61010160025481565b6100a0610126366004610357565b61026d565b6000546001600160a01b0316331461015e5760405162461bcd60e51b81526004016101559061039d565b60405180910390fd5b60028190556040518181527f0f45948e42a1e34f851df8452200e744563dae2029a99b8178ff6530458bd3df906020015b60405180910390a150565b6000546001600160a01b031633146101c45760405162461bcd60e51b81526004016101559061039d565b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b031633146102385760405162461bcd60e51b81526004016101559061039d565b60018190556040518181527fae46785019700e30375a5d7b4f91e32f8060ef085111f896ebf889450aa2ab5a9060200161018f565b6000546001600160a01b031633146102975760405162461bcd60e51b81526004016101559061039d565b6001600160a01b0381166102fc5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610155565b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b600060208284031215610368578081fd5b81356001600160a01b038116811461037e578182fd5b9392505050565b600060208284031215610396578081fd5b5035919050565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260408201526060019056fea264697066735822122069737c178b79be7973d71a433150ff2571d211a983a7f5a5ba0f7dba3d57fd7664736f6c63430008040033

INCENTIVES_PRICE_ORACLE_BIN=0x608060405234801561001057600080fd5b506004361061010a5760003560e01c806391b7f5ed116100a2578063b187bd2611610071578063b187bd26146101fe578063d547741f1461020b578063e0632c641461021e578063f7b188a51461024e578063fb8d81011461025657600080fd5b806391b7f5ed146101c757806391d14854146101da5780639d1b464a146101ed578063a217fddf146101f657600080fd5b806336568abe116100de57806336568abe1461019057806372bf079e146101a35780637f386b6c146101b65780638456cb59146101bf57600080fd5b806280248f1461010f57806301ffc9a714610135578063248a9ca3146101585780632f2ff15d1461017b575b600080fd5b61012261011d3660046109dc565b61027d565b6040519081526020015b60405180910390f35b610148610143366004610a31565b61029e565b604051901515815260200161012c565b6101226101663660046109dc565b60009081526020819052604090206001015490565b61018e6101893660046109f5565b6102d5565b005b61018e61019e3660046109f5565b6102ff565b61018e6101b13660046109dc565b610382565b61012261040081565b61018e61054a565b61018e6101d53660046109dc565b610580565b6101486101e83660046109f5565b610661565b61012260015481565b610122600081565b6003546101489060ff1681565b61018e6102193660046109f5565b61068a565b6003546102369061010090046001600160a01b031681565b6040516001600160a01b03909116815260200161012c565b61018e6106af565b6101227f74b366a297145849fa9687e16ecad1e3a60cf84f6c2256ae73e20a9f7666980481565b6002818154811061028d57600080fd5b600091825260209091200154905081565b60006001600160e01b03198216637965db0b60e01b14806102cf57506301ffc9a760e01b6001600160e01b03198316145b92915050565b6000828152602081905260409020600101546102f0816106e2565b6102fa83836106ec565b505050565b6001600160a01b03811633146103745760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201526e103937b632b9903337b91039b2b63360891b60648201526084015b60405180910390fd5b61037e8282610770565b5050565b60035460ff16610547576103b67f74b366a297145849fa9687e16ecad1e3a60cf84f6c2256ae73e20a9f7666980433610661565b6104025760405162461bcd60e51b815260206004820152601d60248201527f63616c6c6572206973206e6f7420612070726963652075706461746572000000604482015260640161036b565b61040081806104455760405162461bcd60e51b815260206004820152600f60248201526e756e6578706563746564207a65726f60881b604482015260640161036b565b6008831115610452575060085b60006002828154811061046757610467610bf0565b9060005260206000200154905082600154826104839190610b74565b61048d9190610b52565b600181905561040011156104a2576104006001555b6003546001546040516391b7f5ed60e01b815260048101919091526101009091046001600160a01b0316906391b7f5ed90602401600060405180830381600087803b1580156104f057600080fd5b505af1158015610504573d6000803e3d6000fd5b505050507fae46785019700e30375a5d7b4f91e32f8060ef085111f896ebf889450aa2ab5a60015460405161053b91815260200190565b60405180910390a15050505b50565b610555600033610661565b6105715760405162461bcd60e51b815260040161036b90610b03565b6003805460ff19166001179055565b61058b600033610661565b6105a75760405162461bcd60e51b815260040161036b90610b03565b60018190556104008110156105bd576104006001555b6003546001546040516391b7f5ed60e01b815260048101919091526101009091046001600160a01b0316906391b7f5ed90602401600060405180830381600087803b15801561060b57600080fd5b505af115801561061f573d6000803e3d6000fd5b505050507fae46785019700e30375a5d7b4f91e32f8060ef085111f896ebf889450aa2ab5a60015460405161065691815260200190565b60405180910390a150565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b6000828152602081905260409020600101546106a5816106e2565b6102fa8383610770565b6106ba600033610661565b6106d65760405162461bcd60e51b815260040161036b90610b03565b6003805460ff19169055565b61054781336107d5565b6106f68282610661565b61037e576000828152602081815260408083206001600160a01b03851684529091529020805460ff1916600117905561072c3390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b61077a8282610661565b1561037e576000828152602081815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b6107df8282610661565b61037e576107f7816001600160a01b03166014610839565b610802836020610839565b604051602001610813929190610a5b565b60408051601f198184030181529082905262461bcd60e51b825261036b91600401610ad0565b60606000610848836002610b74565b610853906002610b3a565b67ffffffffffffffff81111561086b5761086b610c06565b6040519080825280601f01601f191660200182016040528015610895576020820181803683370190505b509050600360fc1b816000815181106108b0576108b0610bf0565b60200101906001600160f81b031916908160001a905350600f60fb1b816001815181106108df576108df610bf0565b60200101906001600160f81b031916908160001a9053506000610903846002610b74565b61090e906001610b3a565b90505b6001811115610986576f181899199a1a9b1b9c1cb0b131b232b360811b85600f166010811061094257610942610bf0565b1a60f81b82828151811061095857610958610bf0565b60200101906001600160f81b031916908160001a90535060049490941c9361097f81610bc3565b9050610911565b5083156109d55760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e74604482015260640161036b565b9392505050565b6000602082840312156109ee57600080fd5b5035919050565b60008060408385031215610a0857600080fd5b8235915060208301356001600160a01b0381168114610a2657600080fd5b809150509250929050565b600060208284031215610a4357600080fd5b81356001600160e01b0319811681146109d557600080fd5b7f416363657373436f6e74726f6c3a206163636f756e7420000000000000000000815260008351610a93816017850160208801610b93565b7001034b99036b4b9b9b4b733903937b6329607d1b6017918401918201528351610ac4816028840160208801610b93565b01602801949350505050565b6020815260008251806020840152610aef816040850160208701610b93565b601f01601f19169190910160400192915050565b60208082526017908201527f63616c6c6572206973206e6f74207468652061646d696e000000000000000000604082015260600190565b60008219821115610b4d57610b4d610bda565b500190565b600082610b6f57634e487b7160e01b600052601260045260246000fd5b500490565b6000816000190483118215151615610b8e57610b8e610bda565b500290565b60005b83811015610bae578181015183820152602001610b96565b83811115610bbd576000848401525b50505050565b600081610bd257610bd2610bda565b506000190190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea26469706673582212207942b68fa6e105cf6b588d86f09095ecbd963c04e6594750b7e4e6943b370b8a64736f6c63430008070033

STAKING_BIN=0x608060405234801561001057600080fd5b50600436106101425760003560e01c806391d14854116100b8578063abe385431161007c578063abe385431461035a578063d547741f1461036d578063e34c452714610380578063e63ab1e914610393578063ede41302146103ba578063f7b188a5146103dd57600080fd5b806391d14854146102d8578063a0d22b21146102eb578063a217fddf14610318578063a6471a1d14610320578063a6ce31d41461034757600080fd5b8063420fc4db1161010a578063420fc4db146101db57806348962b931461020d5780635c975abb14610230578063837fd16a1461023b5780638456cb591461024e5780638fee64071461025657600080fd5b806301ffc9a7146101475780631ed2cd401461016f578063248a9ca3146101845780632f2ff15d146101b557806336568abe146101c8575b600080fd5b61015a61015536600461134e565b6103e5565b60405190151581526020015b60405180910390f35b61018261017d366004611292565b61041c565b005b6101a76101923660046112e7565b60009081526020819052604090206001015490565b604051908152602001610166565b6101826101c3366004611300565b61077e565b6101826101d6366004611300565b6107a8565b6003546101f590600160401b90046001600160a01b031681565b6040516001600160a01b039091168152602001610166565b6101a761021b3660046112e7565b60009081526002602052604090206001015490565b60015460ff1661015a565b61018261024936600461132c565b610826565b61018261091b565b6102a06102643660046112e7565b6002602081905260009182526040909120805460018201549282015460038301546004909301549193926001600160a01b039091169160ff1685565b6040805195865260208601949094526001600160a01b039092169284019290925260608301919091521515608082015260a001610166565b61015a6102e6366004611300565b6109a6565b6101f56102f93660046112e7565b600090815260026020819052604090912001546001600160a01b031690565b6101a7600081565b6101a77f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb082881565b61018261035536600461132c565b6109cf565b6101a76103683660046112e7565b610b3b565b61018261037b366004611300565b610b70565b61018261038e36600461132c565b610b95565b6101a77f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a81565b6101a76103c83660046112e7565b60009081526002602052604090206003015490565b610182610dd3565b60006001600160e01b03198216637965db0b60e01b148061041657506301ffc9a760e01b6001600160e01b03198316145b92915050565b610424610e5d565b6001600160a01b03831633146104815760405162461bcd60e51b815260206004820152601b60248201527f6f6e6c79206f776e65722063616e20757064617465207374616b65000000000060448201526064015b60405180910390fd5b600354600090849065ff000000ff00600882811b91821664ff000000ff9390911c92831617601090811b67ff000000ff0000009290921666ff000000ff0000939093169290921790911c17602081811b6bffffffffffffffff000000001691901c63ffffffff161760405160609290921b6bffffffffffffffffffffffff1916602083015260c01b6001600160c01b0319166034820152603c8101849052605c0160408051601f19818403018152918152815160209283012060008181526002909352912060040154909150829060ff16156105d65760008281526002602052604090206003015443116105b75760405162461bcd60e51b815260206004820152601860248201527f6f7665726c61792063757272656e746c792066726f7a656e00000000000000006044820152606401610478565b6000828152600260205260409020600101546105d39084611420565b90505b6003546040516323b872dd60e01b815233600482015230602482015260448101859052600160401b9091046001600160a01b0316906323b872dd90606401602060405180830381600087803b15801561062e57600080fd5b505af1158015610642573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061066691906112c5565b6106a45760405162461bcd60e51b815260206004820152600f60248201526e3330b4b632b2103a3930b739b332b960891b6044820152606401610478565b604080518281526001600160a01b03871660208201524381830152905183917f61e979698346a2aa868a3a9f08d30c846174841dc9b074bbf2a82d20554bc682919081900360600190a26040805160a08101825283815260208082019384526001600160a01b03978816828401908152436060840190815260016080850181815260009889526002948590529590972093518455945195830195909555935193810180546001600160a01b031916949097169390931790955551600382015592516004909301805460ff1916931515939093179092555050565b60008281526020819052604090206001015461079981610ea3565b6107a38383610eb0565b505050565b6001600160a01b03811633146108185760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201526e103937b632b9903337b91039b2b63360891b6064820152608401610478565b6108228282610f34565b5050565b6108507f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb0828336109a6565b6108a85760405162461bcd60e51b815260206004820152602360248201527f6f6e6c792072656469737472696275746f722063616e20667265657a65207374604482015262616b6560e81b6064820152608401610478565b60008281526002602052604090206004015460ff16156108225760408051838152602081018390527f340439a63c1ee2404f5b7010cab559b4dcbfc28b8baab9acade354fd688ae2b9910160405180910390a16109058143611420565b6000838152600260205260409020600301555050565b6109457f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a336109a6565b61099c5760405162461bcd60e51b815260206004820152602260248201527f6f6e6c79207061757365722063616e2070617573652074686520636f6e74726160448201526118dd60f21b6064820152608401610478565b6109a4610f99565b565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b6109f97f3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb0828336109a6565b610a505760405162461bcd60e51b815260206004820152602260248201527f6f6e6c792072656469737472696275746f722063616e20736c617368207374616044820152616b6560f01b6064820152608401610478565b60408051838152602081018390527f0956b50d4d586f6b9c90800d4e713bd2b866e044decd047e6d70ea20314ab308910160405180910390a160008281526002602052604090206004015460ff161561082257600082815260026020526040902060010154811015610afa5760008281526002602052604081206001018054839290610add908490611457565b909155505050600090815260026020526040902043600390910155565b50600090815260026020819052604082208281556001810183905590810180546001600160a01b03191690556003810191909155600401805460ff19169055565b6000818152600260205260408120600301544311610b5a576000610416565b5060009081526002602052604090206001015490565b600082815260208190526040902060010154610b8b81610ea3565b6107a38383610f34565b610b9d610fed565b600082815260026020819052604090912001546001600160a01b03163314610c075760405162461bcd60e51b815260206004820152601d60248201527f6f6e6c79206f776e65722063616e207769746864726177207374616b650000006044820152606401610478565b6000828152600260205260409020600101548190811115610c3657506000828152600260205260409020600101545b600083815260026020526040902060010154811015610d545760008381526002602052604081206001018054839290610c70908490611457565b9091555050600083815260026020526040908190204360039182015554905163a9059cbb60e01b815233600482015260248101839052600160401b9091046001600160a01b03169063a9059cbb906044015b602060405180830381600087803b158015610cdc57600080fd5b505af1158015610cf0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d1491906112c5565b6107a35760405162461bcd60e51b815260206004820152601160248201527019985a5b1959081dda5d1a191c985dd85b607a1b6044820152606401610478565b60008381526002602081905260408083208381556001810184905591820180546001600160a01b03191690556003808301939093556004918201805460ff191690559154915163a9059cbb60e01b8152339181019190915260248101839052600160401b9091046001600160a01b03169063a9059cbb90604401610cc2565b610dfd7f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a336109a6565b610e555760405162461bcd60e51b8152602060048201526024808201527f6f6e6c79207061757365722063616e20756e70617573652074686520636f6e746044820152631c9858dd60e21b6064820152608401610478565b6109a4611036565b60015460ff16156109a45760405162461bcd60e51b815260206004820152601060248201526f14185d5cd8589b194e881c185d5cd95960821b6044820152606401610478565b610ead813361106f565b50565b610eba82826109a6565b610822576000828152602081815260408083206001600160a01b03851684529091529020805460ff19166001179055610ef03390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b610f3e82826109a6565b15610822576000828152602081815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b610fa1610e5d565b6001805460ff1916811790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a258335b6040516001600160a01b03909116815260200160405180910390a1565b60015460ff166109a45760405162461bcd60e51b815260206004820152601460248201527314185d5cd8589b194e881b9bdd081c185d5cd95960621b6044820152606401610478565b61103e610fed565b6001805460ff191690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa33610fd0565b61107982826109a6565b61082257611091816001600160a01b031660146110d3565b61109c8360206110d3565b6040516020016110ad929190611378565b60408051601f198184030181529082905262461bcd60e51b8252610478916004016113ed565b606060006110e2836002611438565b6110ed906002611420565b67ffffffffffffffff811115611105576111056114e1565b6040519080825280601f01601f19166020018201604052801561112f576020820181803683370190505b509050600360fc1b8160008151811061114a5761114a6114cb565b60200101906001600160f81b031916908160001a905350600f60fb1b81600181518110611179576111796114cb565b60200101906001600160f81b031916908160001a905350600061119d846002611438565b6111a8906001611420565b90505b6001811115611220576f181899199a1a9b1b9c1cb0b131b232b360811b85600f16601081106111dc576111dc6114cb565b1a60f81b8282815181106111f2576111f26114cb565b60200101906001600160f81b031916908160001a90535060049490941c936112198161149e565b90506111ab565b50831561126f5760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e746044820152606401610478565b9392505050565b80356001600160a01b038116811461128d57600080fd5b919050565b6000806000606084860312156112a757600080fd5b6112b084611276565b95602085013595506040909401359392505050565b6000602082840312156112d757600080fd5b8151801515811461126f57600080fd5b6000602082840312156112f957600080fd5b5035919050565b6000806040838503121561131357600080fd5b8235915061132360208401611276565b90509250929050565b6000806040838503121561133f57600080fd5b50508035926020909101359150565b60006020828403121561136057600080fd5b81356001600160e01b03198116811461126f57600080fd5b7f416363657373436f6e74726f6c3a206163636f756e74200000000000000000008152600083516113b081601785016020880161146e565b7001034b99036b4b9b9b4b733903937b6329607d1b60179184019182015283516113e181602884016020880161146e565b01602801949350505050565b602081526000825180602084015261140c81604085016020870161146e565b601f01601f19169190910160400192915050565b60008219821115611433576114336114b5565b500190565b6000816000190483118215151615611452576114526114b5565b500290565b600082821015611469576114696114b5565b500390565b60005b83811015611489578181015183820152602001611471565b83811115611498576000848401525b50505050565b6000816114ad576114ad6114b5565b506000190190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea264697066735822122081445e89a5d3f10197388104c5a5f78f54f8501c2295e78f0d50505781d213a564736f6c63430008070033

REDISTRIBUTION_BIN=0x608060405234801561001057600080fd5b50600436106102115760003560e01c806377c75d1011610125578063b78a52a7116100ad578063d547741f1161007c578063d547741f1461047d578063dfbf53ae14610490578063e63ab1e9146104ba578063ec5ffac2146104e1578063fb00f2f3146104ea57600080fd5b8063b78a52a71461043c578063c1d810d51461044f578063ce98774514610462578063d1e8b63d1461047557600080fd5b80638a19c8bc116100f45780638a19c8bc146104085780638b649b94146104105780638d8b64281461041957806391d1485414610421578063a217fddf1461043457600080fd5b806377c75d10146103975780637fe019c6146103aa57806382b39b1b146103b3578063832206261461040057600080fd5b80634e71d92d116101a857806364c34a851161017757806364c34a851461032557806369bfac011461032d57806369da9114146103365780636f94aaf21461034957806372286cba1461035257600080fd5b80634e71d92d146102f75780635c975abb146102ff5780635d4844ea1461030a57806362fd29ae1461031d57600080fd5b80632f2ff15d116101e45780632f2ff15d146102b45780632f3906da146102c957806336568abe146102d15780634a2e7598146102e457600080fd5b806301ffc9a714610216578063183500961461023e578063248a9ca31461026e5780632a4e62491461029f575b600080fd5b610229610224366004612800565b6104fd565b60405190151581526020015b60405180910390f35b6001546102569061010090046001600160a01b031681565b6040516001600160a01b039091168152602001610235565b61029161027c3660046126ef565b60009081526020819052604090206001015490565b604051908152602001610235565b6102a7610534565b60405161023591906128da565b6102c76102c2366004612708565b610651565b005b61022961067b565b6102c76102df366004612708565b6106ce565b6102c76102f2366004612738565b61074c565b6102c7610d05565b60015460ff16610229565b600354610256906001600160a01b031681565b610291611451565b6102916114d5565b610291600a5481565b600254610256906001600160a01b031681565b610291600c5481565b6103656103603660046126ef565b6115a2565b604080519586526001600160a01b0390941660208601529284019190915260608301521515608082015260a001610235565b6102296103a53660046126ef565b6115f0565b610291600b5481565b6103c66103c13660046126ef565b611958565b604080516001600160a01b0390971687526020870195909552938501929092526060840152608083015260ff1660a082015260c001610235565b6102916119ab565b6102916119b2565b610291600d5481565b6102296119c7565b61022961042f366004612708565b6119f6565b610291600081565b61022961044a366004612799565b611a1f565b6102c761045d3660046127c5565b611c5c565b6102916104703660046127c5565b6120e9565b610229612134565b6102c761048b366004612708565b61215e565b600e54600f546010546011546012546013546103c6956001600160a01b0316949392919060ff1686565b6102917f65d7a28e3265b37a6474929f336521b332c1681b933f6cb9f3376673440d862a81565b61029160095481565b6102296104f8366004612764565b612183565b60006001600160e01b03198216637965db0b60e01b148061052e57506301ffc9a760e01b6001600160e01b03198316145b92915050565b606061053e6119c7565b6105845760405162461bcd60e51b81526020600482015260126024820152716e6f7420696e20636c61696d20706861736560701b60448201526064015b60405180910390fd5b600061058e6119b2565b9050600b5481146105b15760405162461bcd60e51b815260040161057b906129d5565b6005805480602002602001604051908101604052809291908181526020016000905b828210156106475760008481526020908190206040805160c0810182526006860290920180546001600160a01b031683526001808201548486015260028201549284019290925260038101546060840152600481015460808401526005015460ff1660a083015290835290920191016105d3565b5050505091505090565b60008281526020819052604090206001015461066c816121bc565b61067683836121c9565b505050565b600080600d544361068c9190612c35565b90506004600d5461069d9190612a6b565b81101580156106b957506002600d546106b69190612a6b565b81105b156106c657600191505090565b600091505090565b6001600160a01b038116331461073e5760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201526e103937b632b9903337b91039b2b63360891b606482015260840161057b565b610748828261224d565b5050565b6107546122b2565b61075c612134565b61079e5760405162461bcd60e51b81526020600482015260136024820152726e6f7420696e20636f6d6d697420706861736560681b604482015260640161057b565b60006107a86119b2565b9050818111156107fa5760405162461bcd60e51b815260206004820152601b60248201527f73706563696669656420636f6d6d697420726f756e64206f7665720000000000604482015260640161057b565b818110156108595760405162461bcd60e51b815260206004820152602660248201527f73706563696669656420636f6d6d697420726f756e64206e6f742073746172746044820152651959081e595d60d21b606482015260840161057b565b6003546040516348962b9360e01b8152600481018590526000916001600160a01b0316906348962b939060240160206040518083038186803b15801561089e57600080fd5b505afa1580156108b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108d6919061282a565b905060095481101561093f5760405162461bcd60e51b815260206004820152602c60248201527f6e6f6465206d7573742068617665207374616b6564206174206c65617374206d60448201526b696e696d756d207374616b6560a01b606482015260840161057b565b60035460405163a0d22b2160e01b81526004810186905233916001600160a01b03169063a0d22b219060240160206040518083038186803b15801561098357600080fd5b505afa158015610997573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109bb91906126d2565b6001600160a01b031614610a265760405162461bcd60e51b815260206004820152602c60248201527f6f776e6572206d757374206d617463682073656e64657220746f20626520616260448201526b1b19481d1bc818dbdb5b5a5d60a21b606482015260840161057b565b600d54610a34906002612b7e565b610a3e9043612bc0565b6003546040516376f2098160e11b8152600481018790526001600160a01b039091169063ede413029060240160206040518083038186803b158015610a8257600080fd5b505afa158015610a96573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610aba919061282a565b10610b175760405162461bcd60e51b815260206004820152602760248201527f6e6f6465206d7573742068617665207374616b6564206265666f7265206c61736044820152661d081c9bdd5b9960ca1b606482015260840161057b565b600a548214610b3257610b2c600460006125f3565b600a8290555b60045460005b81811015610bda578560048281548110610b5457610b54612c75565b9060005260206000209060050201600001541415610bc85760405162461bcd60e51b815260206004820152602b60248201527f7061727469636970616e7420616c726561647920636f6d6d697474656420696e60448201526a081d1a1a5cc81c9bdd5b9960aa1b606482015260840161057b565b80610bd281612c1a565b915050610b38565b50506040805160a08101825294855233602086019081529085019182526060850195865260006080860181815260048054600181018255925295517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b60059092029182015590517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19c820180546001600160a01b0319166001600160a01b0390921691909117905590517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19d82015593517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19e8501555050517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19f909101805460ff1916911515919091179055565b610d0d6122b2565b610d156119c7565b610d565760405162461bcd60e51b81526020600482015260126024820152716e6f7420696e20636c61696d20706861736560701b604482015260640161057b565b6000610d606119b2565b9050600b548114610d835760405162461bcd60e51b815260040161057b906129d5565b600c548111610da45760405162461bcd60e51b815260040161057b90612a0c565b6000610dae6122fa565b6004546005546040518281529293506000928392839283928392839290917f6752c5e71c95fb93bc7137adeb115a33fa4e54e2683e33d3f90c2bb1c4b6c2a59060200160405180910390a16040518181527f4c03de6a759749c0c9387b7014634dc5c6af610e1366023d90751c783a998f8d9060200160405180910390a160005b82811015610f2c5760048181548110610e4a57610e4a612c75565b600091825260209091206004600590920201015460ff16610f1a57600354600480546001600160a01b039092169163837fd16a919084908110610e8f57610e8f612c75565b6000918252602090912060059091020154610eab876002612ad2565b600d54610eb9906007612b7e565b610ec39190612b7e565b6040516001600160e01b031960e085901b16815260048101929092526024820152604401600060405180830381600087803b158015610f0157600080fd5b505af1158015610f15573d6000803e3d6000fd5b505050505b80610f2481612c1a565b915050610e2f565b5060005b818110156110505760058181548110610f4b57610f4b612c75565b90600052602060002090600602016003015489610f689190612a53565b98508981604051602001610f7d929190612843565b60408051601f1981840301815291905280516020909101206006549097508088169650610fab906001612a53565b60058281548110610fbe57610fbe612c75565b906000526020600020906006020160030154610fda9190612b7e565b610fe48a88612b7e565b101561103e5760058181548110610ffd57610ffd612c75565b90600052602060002090600602016004015494506005818154811061102457611024612c75565b600091825260209091206005600690920201015460ff1693505b8061104881612c1a565b915050610f30565b506040805185815260ff851660208201527f34e8eda4cd857cd2865becf58a47748f31415f4a382cbb2cc0c64b9a27c717be910160405180910390a16000611096612381565b90506000805b8381101561131157600581815481106110b7576110b7612c75565b906000526020600020906006020160040154871480156111025750600581815481106110e5576110e5612c75565b600091825260209091206005600690920201015460ff8781169116145b15611247576005818154811061111a5761111a612c75565b9060005260206000209060060201600301548a6111379190612a53565b9950828260405160200161114c929190612843565b60408051601f198184030181529190528051602090910120600654909950808a16985061117a906001612a53565b6005828154811061118d5761118d612c75565b9060005260206000209060060201600301546111a99190612b7e565b6111b38b8a612b7e565b101561123557600581815481106111cc576111cc612c75565b600091825260209091206006909102018054600e80546001600160a01b0319166001600160a01b039092169190911790556001810154600f55600281015460105560038101546011556004810154601255600501546013805460ff191660ff9092169190911790555b8161123f81612c1a565b9250506112ff565b600354600580546001600160a01b039092169163837fd16a91908490811061127157611271612c75565b9060005260206000209060060201600101548860026112909190612ad2565b600d5461129e906003612b7e565b6112a89190612b7e565b6040516001600160e01b031960e085901b16815260048101929092526024820152604401600060405180830381600087803b1580156112e657600080fd5b505af11580156112fa573d6000803e3d6000fd5b505050505b8061130981612c1a565b91505061109c565b5060408051600e546001600160a01b03168152600f546020820152601054818301526011546060820152601254608082015260135460ff1660a082015290517f2756aa512df0e32847d196f374c5b2fa5f30705f2fe3a75b8baeac52f2af5b399181900360c00190a1600154600e546040516351cff8d960e01b81526001600160a01b03918216600482015261010090920416906351cff8d990602401600060405180830381600087803b1580156113c857600080fd5b505af11580156113dc573d6000803e3d6000fd5b505060025460405163395f83cf60e11b8152600481018590526001600160a01b0390911692506372bf079e9150602401600060405180830381600087803b15801561142657600080fd5b505af115801561143a573d6000803e3d6000fd5b505050600c9c909c55505050505050505050505050565b60008061145c6119b2565b611467906001612a53565b600854600b549192509061147c906001612a53565b82111561052e5760006001600b54846114959190612bc0565b61149f9190612bc0565b60408051602081018590529081018290529091506060016040516020818303038152906040528051906020012091505092915050565b6000806114e06119b2565b90506114ea612134565b806115065750600b548111801561150657506115046119c7565b155b15611519576115136119ab565b91505090565b61152161067b565b801561152e5750600b5481145b156115895760405162461bcd60e51b815260206004820152602560248201527f63616e27742072657475726e2076616c75652061667465722066697273742072604482015264195d99585b60da1b606482015260840161057b565b6115916119c7565b1561159e57611513611451565b5090565b600481815481106115b257600080fd5b6000918252602090912060059091020180546001820154600283015460038401546004909401549294506001600160a01b0390911692909160ff1685565b60006115fa6119c7565b6116465760405162461bcd60e51b815260206004820152601960248201527f77696e6e6572206e6f742064657465726d696e65642079657400000000000000604482015260640161057b565b60006116506119b2565b9050600b5481146116735760405162461bcd60e51b815260040161057b906129d5565b600c5481116116945760405162461bcd60e51b815260040161057b90612a0c565b600061169e6122fa565b90506000808080808080805b6005548110156117cc57600581815481106116c7576116c7612c75565b906000526020600020906006020160030154886116e49190612a53565b975088816040516020016116f9929190612843565b60408051601f1981840301815291905280516020909101206006549095508086169450611727906001612a53565b6005828154811061173a5761173a612c75565b9060005260206000209060060201600301546117569190612b7e565b6117608986612b7e565b10156117ba576005818154811061177957611779612c75565b9060005260206000209060060201600401549250600581815481106117a0576117a0612c75565b600091825260209091206005600690920201015460ff1691505b806117c481612c1a565b9150506116aa565b5060006117d7612381565b90506000805b60055481101561194457600581815481106117fa576117fa612c75565b9060005260206000209060060201600401548514801561184557506005818154811061182857611828612c75565b600091825260209091206005600690920201015460ff8581169116145b15611932576005818154811061185d5761185d612c75565b9060005260206000209060060201600301548961187a9190612a53565b9850828260405160200161188f929190612843565b60408051601f19818403018152919052805160209091012060065490975080881696506118bd906001612a53565b600582815481106118d0576118d0612c75565b9060005260206000209060060201600301546118ec9190612b7e565b6118f68a88612b7e565b1015611924576005818154811061190f5761190f612c75565b90600052602060002090600602016001015497505b8161192e81612c1a565b9250505b8061193c81612c1a565b9150506117dd565b505050939099149998505050505050505050565b6005818154811061196857600080fd5b60009182526020909120600690910201805460018201546002830154600384015460048501546005909501546001600160a01b0390941695509193909260ff1686565b6000806114675b6000600d54436119c29190612a6b565b905090565b60006002600d546119d89190612a6b565b600d546119e59043612c35565b106119f05750600190565b50600090565b6000918252602082815260408084206001600160a01b0393909316845291905290205460ff1690565b6000611a296119c7565b80611a375750611a37612134565b611a915760405162461bcd60e51b815260206004820152602560248201527f6e6f742064657465726d696e656420666f72207570636f6d696e6720726f756e60448201526419081e595d60da1b606482015260840161057b565b600d54611a9f906002612b7e565b611aa99043612bc0565b6003546040516376f2098160e11b8152600481018690526001600160a01b039091169063ede413029060240160206040518083038186803b158015611aed57600080fd5b505afa158015611b01573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b25919061282a565b10611b6b5760405162461bcd60e51b81526020600482015260166024820152757374616b65207570646174656420726563656e746c7960501b604482015260640161057b565b6009546003546040516348962b9360e01b8152600481018690526001600160a01b03909116906348962b939060240160206040518083038186803b158015611bb257600080fd5b505afa158015611bc6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611bea919061282a565b1015611c435760405162461bcd60e51b815260206004820152602260248201527f7374616b6520616d6f756e7420646f6573206e6f74206d656574206d696e696d604482015261756d60f01b606482015260840161057b565b611c5583611c4f6114d5565b84612183565b9392505050565b611c646122b2565b611c6c61067b565b611cae5760405162461bcd60e51b81526020600482015260136024820152726e6f7420696e2072657665616c20706861736560681b604482015260640161057b565b6000611cb86119b2565b9050600a548114611d0b5760405162461bcd60e51b815260206004820152601960248201527f726f756e64207265636569766564206e6f20636f6d6d69747300000000000000604482015260640161057b565b600b548114611d3157611d1c6114d5565b600755611d2b60056000612614565b600b8190555b6000611d3f868686866120e9565b60045490915060005b8181101561209a578760048281548110611d6457611d64612c75565b906000526020600020906005020160000154148015611da6575060048181548110611d9157611d91612c75565b90600052602060002090600502016003015483145b1561208857611ddc60048281548110611dc157611dc1612c75565b90600052602060002090600502016000015460075489612183565b611e325760405162461bcd60e51b815260206004820152602160248201527f616e63686f72206f7574206f662073656c66207265706f7274656420646570746044820152600d60fb1b606482015260840161057b565b60048181548110611e4557611e45612c75565b600091825260209091206004600590920201015460ff1615611ea95760405162461bcd60e51b815260206004820152601c60248201527f7061727469636970616e7420616c72656164792072657665616c656400000000604482015260640161057b565b600160048281548110611ebe57611ebe612c75565b906000526020600020906005020160040160006101000a81548160ff02191690831515021790555060056040518060c0016040528060048481548110611f0657611f06612c75565b6000918252602091829020600160059092020101546001600160a01b0316825260048054929091019185908110611f3f57611f3f612c75565b906000526020600020906005020160000154815260200160048481548110611f6957611f69612c75565b9060005260206000209060050201600201548152602001896002611f8d9190612ad2565b60048581548110611fa057611fa0612c75565b906000526020600020906005020160020154611fbc9190612b7e565b815260208082018a905260ff8b8116604093840152845460018082018755600096875295839020855160069092020180546001600160a01b0319166001600160a01b039092169190911781559184015194820194909455908201516002820155606082015160038201556080820151600482015560a0909101516005909101805460ff19169190921617905561207f600854604080516020810192909252449082015260600160408051601f198184030181529190528051602090910120600855565b505050506120e3565b8061209281612c1a565b915050611d48565b5060405162461bcd60e51b815260206004820152601a60248201527f6e6f206d61746368696e6720636f6d6d6974206f722068617368000000000000604482015260640161057b565b50505050565b6040805160208082019690965260f89490941b6001600160f81b0319168482015260418401929092526061808401919091528151808403909101815260819092019052805191012090565b60006004600d546121459190612a6b565b600d546121529043612c35565b10156119f05750600190565b600082815260208190526040902060010154612179816121bc565b610676838361224d565b600060ff821661219557506001611c55565b6121a460ff8316610100612b9d565b6121af906002612ac2565b8484181090509392505050565b6121c681336123f3565b50565b6121d382826119f6565b610748576000828152602081815260408083206001600160a01b03851684529091529020805460ff191660011790556122093390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b61225782826119f6565b15610748576000828152602081815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b60015460ff16156122f85760405162461bcd60e51b815260206004820152601060248201526f14185d5cd8589b194e881c185d5cd95960821b604482015260640161057b565b565b60606123046119c7565b6123205760405162461bcd60e51b815260040161057b90612991565b600061232a6119b2565b9050600b54811461234d5760405162461bcd60e51b815260040161057b906129d5565b60085460405160200161236c918152600360fc1b602082015260210190565b60405160208183030381529060405291505090565b606061238b6119c7565b6123a75760405162461bcd60e51b815260040161057b90612991565b60006123b16119b2565b9050600b5481146123d45760405162461bcd60e51b815260040161057b906129d5565b60085460405160200161236c918152603160f81b602082015260210190565b6123fd82826119f6565b61074857612415816001600160a01b03166014612457565b612420836020612457565b604051602001612431929190612865565b60408051601f198184030181529082905262461bcd60e51b825261057b9160040161295e565b60606000612466836002612b7e565b612471906002612a53565b67ffffffffffffffff81111561248957612489612c8b565b6040519080825280601f01601f1916602001820160405280156124b3576020820181803683370190505b509050600360fc1b816000815181106124ce576124ce612c75565b60200101906001600160f81b031916908160001a905350600f60fb1b816001815181106124fd576124fd612c75565b60200101906001600160f81b031916908160001a9053506000612521846002612b7e565b61252c906001612a53565b90505b60018111156125a4576f181899199a1a9b1b9c1cb0b131b232b360811b85600f166010811061256057612560612c75565b1a60f81b82828151811061257657612576612c75565b60200101906001600160f81b031916908160001a90535060049490941c9361259d81612c03565b905061252f565b508315611c555760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e74604482015260640161057b565b50805460008255600502906000526020600020908101906121c69190612635565b50805460008255600602906000526020600020908101906121c69190612675565b5b8082111561159e5760008082556001820180546001600160a01b031916905560028201819055600382015560048101805460ff19169055600501612636565b5b8082111561159e5780546001600160a01b03191681556000600182018190556002820181905560038201819055600482015560058101805460ff19169055600601612676565b803560ff811681146126cd57600080fd5b919050565b6000602082840312156126e457600080fd5b8151611c5581612ca1565b60006020828403121561270157600080fd5b5035919050565b6000806040838503121561271b57600080fd5b82359150602083013561272d81612ca1565b809150509250929050565b60008060006060848603121561274d57600080fd5b505081359360208301359350604090920135919050565b60008060006060848603121561277957600080fd5b8335925060208401359150612790604085016126bc565b90509250925092565b600080604083850312156127ac57600080fd5b823591506127bc602084016126bc565b90509250929050565b600080600080608085870312156127db57600080fd5b843593506127eb602086016126bc565b93969395505050506040820135916060013590565b60006020828403121561281257600080fd5b81356001600160e01b031981168114611c5557600080fd5b60006020828403121561283c57600080fd5b5051919050565b60008351612855818460208801612bd7565b9190910191825250602001919050565b7f416363657373436f6e74726f6c3a206163636f756e742000000000000000000081526000835161289d816017850160208801612bd7565b7001034b99036b4b9b9b4b733903937b6329607d1b60179184019182015283516128ce816028840160208801612bd7565b01602801949350505050565b602080825282518282018190526000919060409081850190868401855b8281101561295157815180516001600160a01b0316855286810151878601528581015186860152606080820151908601526080808201519086015260a09081015160ff169085015260c090930192908501906001016128f7565b5091979650505050505050565b602081526000825180602084015261297d816040850160208701612bd7565b601f01601f19169190910160400192915050565b60208082526024908201527f6e6f742064657465726d696e656420666f722063757272656e7420726f756e64604082015263081e595d60e21b606082015260800190565b60208082526019908201527f726f756e64207265636569766564206e6f2072657665616c7300000000000000604082015260600190565b60208082526027908201527f726f756e6420616c7265616479207265636569766564207375636365737366756040820152666c20636c61696d60c81b606082015260800190565b60008219821115612a6657612a66612c49565b500190565b600082612a7a57612a7a612c5f565b500490565b600181815b80851115612aba578160001904821115612aa057612aa0612c49565b80851615612aad57918102915b93841c9390800290612a84565b509250929050565b6000611c5561ffff841683612add565b6000611c5560ff8416835b600082612aec5750600161052e565b81612af95750600061052e565b8160018114612b0f5760028114612b1957612b35565b600191505061052e565b60ff841115612b2a57612b2a612c49565b50506001821b61052e565b5060208310610133831016604e8410600b8410161715612b58575081810a61052e565b612b628383612a7f565b8060001904821115612b7657612b76612c49565b029392505050565b6000816000190483118215151615612b9857612b98612c49565b500290565b600061ffff83811690831681811015612bb857612bb8612c49565b039392505050565b600082821015612bd257612bd2612c49565b500390565b60005b83811015612bf2578181015183820152602001612bda565b838111156120e35750506000910152565b600081612c1257612c12612c49565b506000190190565b6000600019821415612c2e57612c2e612c49565b5060010190565b600082612c4457612c44612c5f565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b03811681146121c657600080fdfea2646970667358221220e7fd2eb225654e175009c26b64d69a58503abc4b82c5f4803015d15e902988b964736f6c63430008070033

function to_hex() {
  printf '0x%x\n' $1
}

function to_abi_hex() {
  printf "%0$2x" "$1" | tr ' ' '0'
}

function to_abi_address() {
  left_pad $(echo "$1" | cut -c 3-) 64
}

function left_pad() {
  printf "%0$2s" "$1" | tr ' ' '0'
}

function jsonrpc_raw() {
  curl -s -X POST -H "Content-Type: application/json" --data "{\"jsonrpc\":\"2.0\",\"method\":\"$1\",\"params\":$2, \"id\":\"1\" }" "$BACKEND"
}

function jsonrpc() {
  local ret
  ret=$(jsonrpc_raw "$1" "$2")
  if test $? -eq 7
  then
    echo could not connect to backend >&2
    return 2
  fi
  
  if echo "$ret" | jq -e .error > /dev/null
  then
    echo "$ret" | jq -e .error >&2
    return 1
  else
    echo "$ret" | jq -e .result
  fi
}

function eth_accounts() {
  jsonrpc eth_accounts "[]"
}

function primary_account() {
  eth_accounts | jq -r '.[0]'
}

function eth_sendTransaction() {
  local args=''
  [ ! -z ${FROM+x} ] && args="$args --arg from $FROM"
  [ ! -z ${TO+x} ] && args="$args --arg to $TO"
  [ ! -z ${VALUE+x} ] && args="$args --arg value $(to_hex $VALUE)"
  [ ! -z ${DATA+x} ] && args="$args --arg data $DATA"
  [ ! -z ${GAS+x} ] && args="$args --arg gas $(to_hex $GAS)"
  jsonrpc eth_sendTransaction "$(jq -n $args '[. + $ARGS.named'])" | jq -r
}

function wait_for_tx() {
  local txhash="$1"
  while
    local receipt=$(jsonrpc eth_getTransactionReceipt "[\"$txhash\"]")
    [ "$receipt" == "null" ]
  do
    sleep 1
  done
  echo "$receipt"
}

function wait_for_deploy() {
  wait_for_tx "$@" | jq -r .contractAddress
}

function mint_erc20() {
  local data=$(echo $TOKEN_MINT_DATA | sed -e "s.__RECIPIENT__.$(to_abi_address $2)." -e "s.__AMOUNT__.$(to_abi_hex $3 64).")
  wait_for_tx $(FROM=$(primary_account) TO="$1" DATA="$data" eth_sendTransaction)
}

function grantPriceOracleRole() {
  wait_for_tx $(FROM=$(primary_account) TO="$1" DATA="0x2f2ff15ddd24a0f121e5ab7c3e97c63eaaf859e0b46792c3e0edfd86e2b3ad50f63011d8$(to_abi_address $2)" eth_sendTransaction)
}

function grantRedistributorRole() {
  wait_for_tx $(FROM=$(primary_account) TO="$1" DATA="0x2f2ff15d3e35b14a9f4fef84b59f9bdcd3044fc28783144b7e42bfb2cd075e6a02cb0828$(to_abi_address $2)" eth_sendTransaction)
}

function grantPriceUpdaterRole() {
  wait_for_tx $(FROM=$(primary_account) TO="$1" DATA="0x2f2ff15d74b366a297145849fa9687e16ecad1e3a60cf84f6c2256ae73e20a9f76669804$(to_abi_address $2)" eth_sendTransaction)
}

PRIMARY_ACCOUNT=$(primary_account)
echo found primary account $PRIMARY_ACCOUNT >&2

TOKEN_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA=$TOKEN_BIN GAS=3500000 eth_sendTransaction))
echo deployed token to $TOKEN_ADDRESS >&2

PATCHED_LEGACY_FACTORY_BIN=$(echo $LEGACY_FACTORY_BIN | sed -e "s.__TOKEN_ADDRESS__.$(to_abi_address $TOKEN_ADDRESS).")
LEGACY_FACTORY_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA=$PATCHED_LEGACY_FACTORY_BIN GAS=3500000 eth_sendTransaction))
echo deployed legacy factory to $LEGACY_FACTORY_ADDRESS >&2

POSTAGE_STAMP_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${POSTAGE_STAMP_BIN}$(to_abi_address $TOKEN_ADDRESS)" GAS=3500000 eth_sendTransaction))
echo deployed postage stamp contract to $POSTAGE_STAMP_ADDRESS >&2

SWAP_PRICE_ORACLE_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${SWAP_PRICE_ORACLE_BIN}$(to_abi_hex 100000 64)$(to_abi_hex 1 64)" GAS=3500000 eth_sendTransaction))
echo deployed swap price oracle contract to $SWAP_PRICE_ORACLE_ADDRESS >&2

PATCHED_FACTORY_BIN=$(echo $FACTORY_BIN | sed -e "s.__TOKEN_ADDRESS__.$(to_abi_address $TOKEN_ADDRESS).")
FACTORY_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA=$PATCHED_FACTORY_BIN GAS=3500000 eth_sendTransaction))
echo deployed factory to $FACTORY_ADDRESS >&2

# INCENTIVES_PRICE_ORACLE_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${INCENTIVES_PRICE_ORACLE_BIN}$(to_abi_hex 100000 64)$(to_abi_hex 1 64)" GAS=3500000 eth_sendTransaction))
# echo deployed swap price oracle contract to $INCENTIVES_PRICE_ORACLE_ADDRESS >&2

# STAKING_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${STAKING_BIN}$(to_abi_hex 12345 64)$(to_abi_address $TOKEN_ADDRESS)" GAS=3500000 eth_sendTransaction))
# echo deployed staking contract to $STAKING_ADDRESS >&2

# REDISTRIBUTION_ADDRESS=$(wait_for_deploy $(FROM=$PRIMARY_ACCOUNT DATA="${REDISTRIBUTION_BIN}$(to_abi_address $STAKING_ADDRESS)$(to_abi_address $POSTAGE_STAMP_ADDRESS)$(to_abi_address $INCENTIVES_PRICE_ORACLE_ADDRESS)" GAS=3500000 eth_sendTransaction))
# echo deployed redistribution contract to $REDISTRIBUTION_ADDRESS >&2

grantPriceOracleRole $POSTAGE_STAMP_ADDRESS $PRIMARY_ACCOUNT > /dev/null &
# grantRedistributorRole $POSTAGE_STAMP_ADDRESS $REDISTRIBUTION_ADDRESS > /dev/null &
# grantRedistributorRole $STAKING_ADDRESS $REDISTRIBUTION_ADDRESS > /dev/null &
# grantPriceUpdaterRole $INCENTIVES_PRICE_ORACLE_ADDRESS $REDISTRIBUTION_ADDRESS > /dev/null &

for NODEACCOUNT in $BZZACCOUNTS
do
  echo "minting tokens for $NODEACCOUNT" >&2
  mint_erc20 $TOKEN_ADDRESS 0x$NODEACCOUNT 1000000000000000000 > /dev/null &
  echo "sending eth to $NODEACCOUNT" >&2
  wait_for_tx $(FROM=$PRIMARY_ACCOUNT TO=0x$NODEACCOUNT VALUE=1000000000000000000 eth_sendTransaction) > /dev/null &
done

wait

echo "----- USE THE COMMANDS BELOW TO SETUP YOUR TERMINALS -----" >&2

echo export BEE_SWAP_ENDPOINT=$BACKEND
echo export BEE_SWAP_FACTORY_ADDRESS=$FACTORY_ADDRESS
echo export BEE_SWAP_PRICE_ORACLE_ADDRESS=$SWAP_PRICE_ORACLE_ADDRESS
echo export BEE_SWAP_LEGACY_FACTORY_ADDRESSES=$LEGACY_FACTORY_ADDRESS
echo export BEE_POSTAGE_STAMP_ADDRESS=$POSTAGE_STAMP_ADDRESS
# echo export BEE_STAKING_ADDRESS=$STAKING_ADDRESS
# echo export BEE_REDISTRIBUTION_ADDRESS=$REDISTRIBUTION_ADDRESS
# echo export BEE_INCENTIVES_PRICE_ORACLE_ADDRESS=$INCENTIVES_PRICE_ORACLE_ADDRESS